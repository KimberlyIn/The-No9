{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?9d62","webpack:///./src/views/Backend/Products.vue","webpack:///./src/components/Backend/CreateProduct.vue","webpack:///./src/components/Backend/CreateProduct.vue?a87d","webpack:///./src/views/Backend/Products.vue?11bd"],"names":["class","aria-label","aria-hidden","pages","has_pre","href","$emit","current_page","total_pages","item","key","has_next","props","__exports__","render","width","actuve","isLoading","z-index","type","openModal","products","id","category","title","$filters","currency","origin_price","price","is_enabled","openDelProductModal","pagination","getProducts","product","tempProduct","isNew","updateProduct","ref","delProduct","data-bs-backdrop","data-bs-keyboard","tabindex","aria-labelledby","data-bs-dismiss","for","imageUrl","placeholder","status","fileUploading","uploadFile","src","imagesUrl","image","splice","length","push","min","unit","description","content","true-value","false-value","Object","default","Boolean","data","modal","emits","mixins","modalMixin","inject","watch","this","methods","uploadedFile","$refs","fileInput","files","formData","FormData","append","url","$http","post","headers","then","response","success","value","emitter","emit","style","message","catch","error","$httpMessageState","components","Pagination","CreateProduct","DeleteProduct","currentPage","page","api","get","productComponent","createProduct","httpMethod","hideModal","delComponent","deleteProduct","delete","created"],"mappings":"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","file":"assets/js/chunk-7e6c0e65.fc709d5c.js","sourcesContent":["<template>\r\n  <div class=\"d-flex justify-content-center\">\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul class=\"pagination\" >\r\n        <!-- :class=\"{ 'disabled':!pages.has_prc } 這個時候的資料已經在 pages 裡面 -->\r\n        <!-- 發現必須先寫 :class=\"{ disabled: !pages.has_pre }\" 再寫 class=\"page-item\" Previous 才有反應 -->\r\n        <li :class=\"{ disabled: !pages.has_pre }\" class=\"page-item\">\r\n          <a \r\n            class=\"page-link\" \r\n            href=\"#\" \r\n            aria-label=\"Previous\"\r\n            @click.prevent=\"$emit('get-datas', pages.current_page - 1)\"\r\n          >\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n          </a>\r\n        </li>\r\n        <li \r\n          class=\"page-item\"\r\n          v-for=\"(item, key) in pages.total_pages\"\r\n          :key=\"key\"\r\n          :class=\"{ active: item === pages.current_page }\"\r\n        >\r\n          <span class=\"page-link\" v-if=\"item === pages.current_page\">\r\n            {{ item }}\r\n          </span>\r\n          <a\r\n            class=\"page-link\"\r\n            v-else\r\n            href=\"#\"\r\n            @click.prevent=\"$emit('get-datas', item)\"\r\n          >\r\n            {{ item }}\r\n          </a>\r\n        </li>\r\n        <li \r\n          class=\"page-item\"\r\n          :class=\"{ disabled: !pages.has_next }\"\r\n        >\r\n          <a\r\n            class=\"page-link\"\r\n            href=\"#\"\r\n            aria-label=\"Next\"\r\n            @click.prevent=\"$emit('get-datas', pages.current_page + 1)\"\r\n          >\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  // Products.vue 的 pagination 傳送進來\r\n  props:['pages'],\r\n  // methods: {\r\n  //   updatePage(page) {\r\n  //     // emit 觸發 Products.vue 的 getProducts\r\n  //     // 並且代入 getProducts 的參數 page\r\n  //     this.$emit('emitPages', page);\r\n  //   },    \r\n  // },\r\n}\r\n</script>","import { render } from \"./Pagination.vue?vue&type=template&id=0afc6e6a\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\html\\\\六角學院\\\\vue3\\\\vue-cli\\\\the-no9\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"div-backend-top\">\n    <Loading :actuve=\"isLoading\" :z-index=\"1060\"></Loading>\n    <div class=\"text-end mt-4 mx-5\"> \n      <button type=\"button\" class=\"btn btn-secondary\" @click=\"openModal(true)\">建立新的產品</button>\n    </div>\n    <div class=\"px-3\">\n      <table class=\"table table-hover mt-4\">\n        <thead>\n          <tr>\n            <th width=\"100\">分類</th>\n            <th>產品名稱</th>\n            <th width=\"120\">原價</th>\n            <th width=\"120\">售價</th>\n            <th width=\"120\">是否啟用</th>\n            <th width=\"150\">編輯</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr \n            v-for=\"item in products\" :key=\"item.id\"\n          >\n            <td>{{ item.category }}</td>\n            <td>{{ item.title }}</td>\n            <td>{{ $filters.currency(item.origin_price) }}</td>\n            <td>{{ $filters.currency(item.price) }}</td>\n            <td>\n              <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\n              <span v-else>未啟用</span>\n            </td>\n            <td>\n              <button \n                type=\"button\" \n                class=\"btn btn-sm btn-outline-secondary border-end-0 rounded-0\"\n                @click=\"openModal(false, item)\"\n              >\n                編輯\n              </button>\n              <button \n                type=\"button\" \n                class=\"btn btn-sm btn-outline-danger rounded-0\" \n                @click=\"openDelProductModal(item)\"\n              >\n                刪除\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    \n    <!-- :pages=\"pagination\" 外層 Products.vue 的 pagination 傳遞 data 到內層 Pagination.vue 並自定義名稱為 pages -->\n    <!-- @emit-page=\"getProducts\" 內層 Pagination.vue 用 emit 觸發外層 Products.vue 的 getProducts，且自訂義名稱為 emit-page -->\n    <Pagination :pages=\"pagination\" @get-datas=\"getProducts\"></Pagination>\n    <CreateProduct :product=\"tempProduct\" :isNew=\"isNew\" @update-product=\"updateProduct\" ref=\"createProduct\"/>\n\n    <DeleteProduct :item=\"tempProduct\" ref=\"deleteProduct\" @del-product=\"delProduct\"></DeleteProduct>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination.vue';\nimport CreateProduct from '@/components/Backend/CreateProduct.vue';\nimport DeleteProduct from '@/components/Backend/DeleteProduct.vue';\n\nexport default {\n  inject: ['emitter'],\n  components: {\n    Pagination,\n    CreateProduct,\n    DeleteProduct,\n  },\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      tempProduct: {},\n      isLoading: false,\n      isNew: false,\n      status: {\n        fileUploading: false,\n      },\n      // modal: {\n      //   editModal: '',\n      //   delModal: '',\n      // },\n      // 調用頁數資料使用\n      currentPage: 1,\n    };\n  },\n  methods: {\n    // 抓取頁數商品\n    getProducts(page = 1) {\n      this.currentPage = page;\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      this.isLoading = true;\n      this.$http.get(api)\n      .then((response) => {\n        this.products = response.data.products;\n        this.pagination = response.data.pagination;\n        this.isLoading = false;\n      })\n      .catch((error) => {\n        this.isLoading = false;\n        this.$httpMessageState(error.response, '錯誤訊息');\n      })\n    },\n    openModal(isNew, item) {\n      if (isNew) {\n        this.tempProduct = {};\n        this.isNew = true;\n      } else {\n        this.tempProduct = { ...item };\n        this.isNew = false;\n      }\n      const productComponent = this.$refs.createProduct;\n      productComponent.openModal();\n    },\n    updateProduct(item) {\n      // 這個部分猜測是直接將 item 賦予到上面 data 的 tempProuct\n      this.tempProduct = item;\n      let api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product`;\n      this.isLoading = true;\n      let httpMethod = 'post';\n      let status = '新增產品';\n      if (!this.isNew) {\n        api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;\n        httpMethod = 'put';\n        status = '更新產品';\n      }\n      const productComponent = this.$refs.createProduct;\n      this.$http[httpMethod](api, { data: this.tempProduct }).then((response) => {\n        this.isLoading = false;\n        this.$httpMessageState(response, status);\n        productComponent.hideModal();\n        this.getProducts(this.currentPage);\n      }).catch((error) => {\n        this.isLoading = false;\n        this.$httpMessageState(error.response, status);\n      });\n    },\n    openDelProductModal(item) {\n      this.tempProduct = { ...item };\n      // 這個部分對到 DeleteProduct.vue 的 id=\"deleteProduct\"\n      const delComponent = this.$refs.deleteProduct;\n      delComponent.openModal();\n    },\n    delProduct() {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\n      this.isLoading = true;\n      this.$http.delete(api)\n      .then((response) => {\n        this.isLoading = false;\n        this.$httpMessageState(response, '刪除產品');\n        // 這個部分對到 DeleteProduct.vue 的 id=\"deleteProduct\"\n        const delComponent = this.$refs.deleteProduct;\n        delComponent.hideModal();\n        this.getProducts(this.currentPage);\n      })\n      .catch((error) => {\n        this.isLoading = false;\n        this.$httpMessageState(error.response, '刪除產品');\n      })\n    },\n  },\n  created() {\n    this.getProducts();\n  },\n}\n</script>","<template>\n  <div>\n    <div class=\"modal fade \" id=\"createProduct\" ref=\"modal\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-xl\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header bg-dark\">\n            <h5 class=\"modal-title text-light\" id=\"staticBackdropLabel\">\n              <span v-if=\"isNew\">新增產品</span>\n              <span v-else>編輯產品</span>\n            </h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body d-flex\">\n            <div class=\"col-sm-4 pe-3\">\n              <div class=\"mb-3\">\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"image\"\n                  v-model=\"tempProduct.imageUrl\"\n                  placeholder=\"請輸入圖片連結\"\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"customFile\" class=\"form-label\"\n                  >或 上傳圖片\n                  <i\n                    class=\"fas fa-spinner fa-spin\"\n                    v-show=\"status.fileUploading\"\n                  ></i>\n                </label>\n                <input\n                  type=\"file\"\n                  id=\"customFile\"\n                  class=\"form-control\"\n                  ref=\"fileInput\"\n                  @change=\"uploadFile\"\n                />\n              </div>\n              <img class=\"img-fluid\" :src=\"tempProduct.imageUrl\" />\n              <div class=\"mt-5\" v-if=\"tempProduct.imagesUrl\">\n                <div\n                  v-for=\"(image, key) in tempProduct.imagesUrl\"\n                  class=\"mb-3\"\n                  :key=\"key\"\n                >\n                  <input\n                    type=\"url\"\n                    class=\"form-control form-control\"\n                    v-model=\"tempProduct.imagesUrl[key]\"\n                    placeholder=\"請輸入連結\"\n                  />\n                  <div>\n                    <img class=\"img-fluid\" :src=\"image\"/>\n                  </div>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-danger\"\n                    @click=\"tempProduct.imagesUrl.splice(key, 1)\"\n                  >\n                    移除\n                  </button>\n                </div>\n                <!-- 如果沒有判定，圖片會一直可以新增 -->\n                <div\n                  v-if=\"tempProduct.imagesUrl[tempProduct.imagesUrl.length -1 ] || !tempProduct.imagesUrl.length\"\n                >\n                  <button\n                    class=\"btn btn-outline-secondary btn-sm d-block w-100\"\n                    @click=\"tempProduct.imagesUrl.push('')\"\n                  >\n                    新增圖片\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-sm-8 pe-3\">\n              <div class=\"mb-3\">\n                <label for=\"title\" class=\"form-label mb-2\">標題</label>\n                <input type=\"text\" class=\"form-control w-100\" id=\"title\" v-model=\"tempProduct.title\" placeholder=\"請輸入標題\">\n              </div>\n\n              <div class=\"row mb-3\">\n                <div class=\"col-6\">\n                  <label for=\"category\" class=\"form-label\">分類</label>\n                  <input type=\"text\" class=\"form-control w-100\" id=\"category\" v-model=\"tempProduct.category\" placeholder=\"請輸入分類\">\n                </div>\n                <div class=\"col-6\">\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\n                  <input type=\"number\" class=\"form-control w-100\" id=\"origin_price\" min=\"0\" v-model.number=\"tempProduct.origin_price\" placeholder=\"請輸入原價\"/>\n                </div>\n              </div>\n\n              <div class=\"row mb-3\">\n                <div class=\"col-6\">\n                  <label for=\"unit\" class=\"form-label\">單位</label>\n                  <input type=\"text\" class=\"form-control w-100\" id=\"unit\" v-model=\"tempProduct.unit\" placeholder=\"請輸入單位\">\n                </div>\n                <div class=\"col-6\">\n                  <label for=\"price\" class=\"form-label\">售價</label>\n                  <input type=\"number\" class=\"form-control w-100\" id=\"price\" min=\"0\" v-model.number=\"tempProduct.price\" placeholder=\"請輸入售價\">\n                </div>\n              </div>\n\n              <div class=\"mb-3\">\n                <label for=\"description\" class=\"form-label\">產品描述</label>\n                <textarea class=\"form-control w-100\" id=\"description\" v-model=\"tempProduct.description\" placeholder=\"請輸入產品描述\"></textarea>\n              </div>\n\n              <div class=\"mb-3\">\n                <label for=\"content\" class=\"form-label\">說明內容</label>\n                <textarea class=\"form-control w-100\" id=\"content\" v-model=\"tempProduct.content\" placeholder=\"請輸入說明內容\"></textarea>\n              </div>\n              <div class=\"form-check\">\n                <input \n                  class=\"form-check-input\" \n                  type=\"checkbox\" \n                  id=\"is_enabled\" \n                  v-model=\"tempProduct.is_enabled\"\n                  :true-value=\"1\" \n                  :false-value=\"0\"\n                >\n                <label class=\"form-check-label\" for=\"is_enabled\">\n                  是否啟用\n                </label>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">取消</button>\n            <!-- @click=\"$emit('update-product', tempProduct)\" data 裡的 tempProduct 已被賦予傳進來的 product? -->\n            <button type=\"button\" class=\"btn btn-secondary\" @click=\"$emit('update-product', tempProduct)\">確認</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default() { return {}; },\n    },\n    isNew: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      status: {},\n      modal: '',\n      tempProduct: {},\n    };\n  },\n  emits: ['update-product'],\n  mixins: [modalMixin],\n  inject: ['emitter'],\n  watch: {\n    product() {\n      this.tempProduct = this.product;\n      if (!this.tempProduct.imagesUrl) {\n        this.tempProduct.imagesUrl = [];\n      }\n      if (!this.tempProduct.imageUrl) {\n        this.tempProduct.imageUrl = '';\n      }\n    },\n  },\n  methods: {\n    uploadFile() {\n      const uploadedFile = this.$refs.fileInput.files[0];\n      const formData = new FormData();\n      formData.append('file-to-upload', uploadedFile);\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.status.fileUploading = true;\n      this.$http.post(url, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      }).then((response) => {\n        this.status.fileUploading = false;\n        if (response.data.success) {\n          this.tempProduct.imageUrl = response.data.imageUrl;\n          this.$refs.fileInput.value = '';\n          this.emitter.emit('push-message', {\n            style: 'success',\n            title: '圖片上傳成功',\n            content: response.data.message,\n          });\n        } else {\n          this.$refs.fileInput.value = '';\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '圖片上傳成功',\n            content: response.data.message,\n          });\n        }\n      }).catch((error) => {\n        this.status.fileUploading = false;\n        this.$httpMessageState(error.response, '圖片失敗');\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./CreateProduct.vue?vue&type=template&id=c4cfa832\"\nimport script from \"./CreateProduct.vue?vue&type=script&lang=js\"\nexport * from \"./CreateProduct.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\html\\\\六角學院\\\\vue3\\\\vue-cli\\\\the-no9\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Products.vue?vue&type=template&id=3de3a0a0\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\html\\\\六角學院\\\\vue3\\\\vue-cli\\\\the-no9\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}