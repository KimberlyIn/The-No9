{"version":3,"sources":["webpack:///./src/views/Backend/Dashboard.vue","webpack:///./src/components/Backend/Navbar.vue","webpack:///./src/components/Backend/Navbar.vue?3bea","webpack:///./src/views/Backend/Dashboard.vue?c52e"],"names":["class","status","customClass","alertClass","content","alertMsg","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","to","href","logout","inject","methods","api","this","$http","post","then","response","$httpMessageState","data","success","$router","push","catch","error","__exports__","components","Navbar","ToastMessages","provide","emitter","checkLogin","setTimeout","created","token","document","cookie","replace","defaults","headers","common","Authorization","render"],"mappings":"4IAQOA,MAAM,uC,uMAPX,eAKM,YAJJ,eAAS,GACT,eAA+B,GAEZ,EAAAC,Q,iBAAnB,eAA4B,Y,wBAG9B,eAEM,MAFN,EAEM,CADU,EAAAA,O,wCAAd,eAAsE,G,MAA/CC,YAAa,EAAAC,WAAaC,QAAS,EAAAC,U,iFCPrDL,MAAM,+C,GACJA,MAAM,mB,iBACgC,c,EAGzC,eAES,UAFDA,MAAM,iBAAiBM,KAAK,SAASC,iBAAe,WAAWC,iBAAe,qBAAqBC,gBAAc,oBAAoBC,gBAAc,QAAQC,aAAW,qB,CAC5K,eAAyC,QAAnCX,MAAM,0B,MAETA,MAAM,2BAA2BY,GAAG,qB,GACnCZ,MAAM,c,iBACkC,M,iBACO,M,iBACC,O,iBAEC,M,oFAf7D,eAqBM,YApBJ,eAmBM,MAnBN,EAmBM,CAlBJ,eAiBM,MAjBN,EAiBM,CAhBJ,eAEc,GAFDA,MAAM,eAAea,GAAG,K,yBAAI,iBAEzC,C,YACA,EAGA,eASM,MATN,EASM,CARJ,eAOK,KAPL,EAOK,CANH,eAA0D,GAA7CA,GAAG,SAASb,MAAM,Y,yBAAW,iBAAE,C,YAC5C,eAAiE,GAApDa,GAAG,gBAAgBb,MAAM,Y,yBAAW,iBAAE,C,YACnD,eAAmE,GAAtDa,GAAG,iBAAiBb,MAAM,Y,yBAAW,iBAAG,C,YAErD,eAAmE,GAAtDa,GAAG,kBAAkBb,MAAM,Y,yBAAW,iBAAE,C,YACrD,eAA2D,KAAxDc,KAAK,IAAK,QAAK,8CAAU,EAAAC,QAAA,EAAAA,OAAA,qBAAM,cAAEf,MAAM,YAAW,gBASlD,OAmBbgB,OAAQ,CAAC,UAAW,qBACpBC,QAAS,CACPF,OADO,WACE,WACDG,EAAE,UAAO,uCAAP,WACRC,KAAKC,MAAMC,KAAKH,GACfI,MAAK,SAACC,GACL,EAAKC,kBAAkBD,EAAU,MAC7BA,EAASE,KAAKC,SAChB,EAAKC,QAAQC,KAAK,aAGrBC,OAAM,SAACC,GACN,EAAKN,kBAAkBM,EAAMP,SAAU,c,qBCpD/C,MAAMQ,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,Q,YFWA,GACbN,KADa,WAEX,MAAO,CAELxB,QAAQ,EACRE,WAAY,eACZE,SAAU,eAGd2B,WAAY,CACVC,SACAC,gBAAA,MAEFC,QAba,WAcX,MAAO,CACLC,QAAA,SAGJpB,OAAQ,CAAC,qBACTC,QAAS,CACPoB,WADO,WACM,WACLnB,EAAE,UAAO,uCAAP,mBACRC,KAAKC,MAAMC,KAAKH,GACfI,MAAK,SAACC,GACDA,EAASE,KAAKC,QAChB,EAAKzB,QAAS,GAGd,EAAKA,QAAS,EACd,EAAKI,SAAW,aAChB,EAAKmB,kBAAkBD,EAAU,MAEjC,EAAKC,kBAAkBD,EAAU,MACjCe,YAAW,WACT,EAAKX,QAAQC,KAAK,YACjB,SAGNC,OAAM,iBAGXU,QAzCa,WA0CX,IAAMC,EAAQC,SAASC,OAAOC,QAAQ,iDAAkD,MACxFxB,KAAKC,MAAMwB,SAASC,QAAQC,OAAOC,cAAgBP,EACnDrB,KAAKkB,eGzDT,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASW,KAErD","file":"assets/js/chunk-2d0cc5c4.65a8319b.js","sourcesContent":["<template>\n  <div>\n    <Navbar/>\n    <ToastMessages></ToastMessages>\n    <!-- 決定是否呈現畫面 ( 是否登入 ) -->\n    <router-view v-if=\"status\"/>\n  </div>\n  <!-- Alert提示 -->\n  <div class=\"d-flex justify-content-center w-100\">\n    <Alert v-if=\"!status\" :customClass=\"alertClass\" :content=\"alertMsg\" />\n  </div>\n</template>\n\n<script>\nimport emitter from '@/methods/eventBus';\nimport Navbar from '@/components/Backend/Navbar.vue';\nimport ToastMessages from '@/components/ToastMessages.vue';\n\nexport default {\n  data() {\n    return {\n      // 決定是否呈現畫面 ( 是否登入 ) \n      status: false,\n      alertClass: 'alert-danger',\n      alertMsg: '驗證中，請稍後...',\n    };\n  },\n  components: {\n    Navbar,\n    ToastMessages,\n  },\n  provide() {\n    return {\n      emitter,\n    };\n  },\n  inject: ['$httpMessageState'],\n  methods: {\n    checkLogin() {\n      const api = `${process.env.VUE_APP_API}/api/user/check`;\n      this.$http.post(api)\n      .then((response) => {\n        if (response.data.success) {\n          this.status = true;\n          // this.$router.push('/backend/products');\n        } else {\n          this.status = false;\n          this.alertMsg = '授權無效，請先登入!';\n          this.$httpMessageState(response, '授權');\n          // this.alertMsg = '授權無效，請先登入!';\n          this.$httpMessageState(response, '授權');\n          setTimeout(() => {\n            this.$router.push('/login');\n          }, 1000);\n        }\n      })\n      .catch(() => {});\n    },\n  },\n  created() {\n    const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n    this.$http.defaults.headers.common.Authorization = token;\n    this.checkLogin();\n  },\n  // created() {\n  //   const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n  //   this.$http.defaults.headers.common.Authorization = `${token}`;\n  //   const api = `${process.env.VUE_APP_API}/api/user/check`;\n  //   this.$http.post(api)\n  //     .then((response) => {\n  //       this.$httpMessageState(response, '登入');\n  //       this.status = true;\n  //     }).catch((error) => {\n  //       this.$router.push('/login');\n  //       this.$httpMessageState(error.response, '錯誤訊息');\n  //     });\n  // },\n}\n</script>","<template>\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n      <div class=\"container-fluid\">\n        <router-link class=\"navbar-brand\" to=\"/\">\n          The No.9\n        </router-link>\n        <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNavDropdown\" aria-controls=\"navbarNavDropdown\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span class=\"navbar-toggler-icon\"></span>\n        </button>\n        <div class=\"collapse navbar-collapse\" id=\"navbarNavDropdown\">\n          <ul class=\"navbar-nav\">\n            <router-link to=\"/admin\" class=\"nav-link\">產品</router-link>\n            <router-link to=\"/admin/orders\" class=\"nav-link\">訂單</router-link>\n            <router-link to=\"/admin/coupons\" class=\"nav-link\">優惠券</router-link>\n            <!-- to=\"/admin/article\" -->\n            <router-link to=\"/admin/articles\" class=\"nav-link\">貼文</router-link>\n            <a href=\"#\" @click.prevent=\"logout\" class=\"nav-link\">登出</a>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  </div>\n</template>\n\n<script>\nexport default {\n  // inject: ['emitter', '$httpMessageState'],\n  // methods: {\n  //   logout() {\n  //     const api = `${process.env.VUE_APP_API}/logout`;\n  //     this.$http.post(api)\n  //     .then((response) => {\n  //       if (response.data.success) {\n  //         this.$httpMessageState(response, '登出');\n  //         document.cookie = `hexToken='';expires=${new Date(-1)}; path=/`;\n  //         this.$router.push('/login');\n  //       } else {\n  //         this.$httpMessageState(response, '登出');\n  //       }\n  //     }).catch((error) => {\n  //       this.$httpMessageState(error.response, '錯誤訊息');\n  //     });\n  //   },\n  // },\n  inject: ['emitter', '$httpMessageState'],\n  methods: {\n    logout() {\n      const api = `${process.env.VUE_APP_API}/logout`;\n      this.$http.post(api)\n      .then((response) => {\n        this.$httpMessageState(response, '登出');\n        if (response.data.success) {\n          this.$router.push('/login');\n        }\n      })\n      .catch((error) => {\n        this.$httpMessageState(error.response, '錯誤訊息');\n      })\n    },\n    \n  },\n};\n</script>","import { render } from \"./Navbar.vue?vue&type=template&id=64480b06\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\html\\\\六角學院\\\\vue3\\\\vue-cli\\\\the-no9\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Dashboard.vue?vue&type=template&id=2bc19660\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\html\\\\六角學院\\\\vue3\\\\vue-cli\\\\the-no9\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}