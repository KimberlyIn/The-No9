(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f1552"],{"9fd3":function(t,e,c){"use strict";c.r(e);c("a4d3"),c("e01a");var a=c("7a23"),l={class:"div-backend-top"},s={class:"text-end mt-4 mx-5"},n={class:"px-3"},i={class:"table table-hover mt-4"},o=Object(a["h"])("thead",null,[Object(a["h"])("tr",null,[Object(a["h"])("th",null,"標題"),Object(a["h"])("th",null,"作者"),Object(a["h"])("th",null,"描述"),Object(a["h"])("th",null,"建立時間"),Object(a["h"])("th",null,"是否公開"),Object(a["h"])("th",null,"編輯")])],-1),b={key:0,class:"text-success"},r={key:1},d=Object(a["h"])("td",null,[Object(a["h"])("button",{type:"button",class:"btn btn-sm btn-outline-secondary border-end-0 rounded-0"}," 編輯 "),Object(a["h"])("button",{type:"button",class:"btn btn-sm btn-outline-danger rounded-0"}," 刪除 ")],-1);function h(t,e,c,h,u,j){var p=Object(a["J"])("ArticleModal");return Object(a["B"])(),Object(a["g"])("div",null,[Object(a["h"])("div",l,[Object(a["h"])("div",s,[Object(a["h"])("button",{type:"button",class:"btn btn-secondary",onClick:e[0]||(e[0]=function(t){return j.openModal(!0)})}," 建立新的頁面 ")]),Object(a["h"])("div",n,[Object(a["h"])("table",i,[o,Object(a["h"])("tbody",null,[(Object(a["B"])(!0),Object(a["g"])(a["a"],null,Object(a["H"])(u.articles,(function(e){return Object(a["B"])(),Object(a["g"])("tr",{key:e.articles},[Object(a["h"])("td",null,Object(a["M"])(e.title),1),Object(a["h"])("td",null,Object(a["M"])(e.author),1),Object(a["h"])("td",null,Object(a["M"])(e.description),1),Object(a["h"])("td",null,Object(a["M"])(t.$filters.date(e.create_at)),1),Object(a["h"])("td",null,[e.isPublic?(Object(a["B"])(),Object(a["g"])("span",b,"已上架")):(Object(a["B"])(),Object(a["g"])("span",r,"未上架"))]),d])})),128))])])])]),Object(a["k"])(p,{article:u.tempArticle,"is-new":u.isNew,ref:"articleModal"},null,8,["article","is-new"])])}var u=c("5530"),j=(c("99af"),{class:"modal fade",id:"articleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"}),p=Object(a["h"])("div",{class:"modal-dialog modal-xl",role:"document"},[Object(a["h"])("div",{class:"modal-content border-0"},[Object(a["h"])("div",{class:"modal-header bg-dark text-white"},[Object(a["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},[Object(a["h"])("span",null,"新增貼文"),Object(a["h"])("span",null,"編輯貼文")]),Object(a["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]),Object(a["h"])("div",{class:"modal-body"},[Object(a["h"])("div",{class:"row"},[Object(a["h"])("div",{class:"col-sm-4"},[Object(a["h"])("div",{class:"mb-3"},[Object(a["h"])("label",{for:"title",class:"form-label"},"標題"),Object(a["h"])("input",{type:"text",class:"form-control",id:"title",placeholder:"請輸入標題"})]),Object(a["h"])("div",{class:"mb-3"},[Object(a["h"])("label",{for:"image",class:"form-label"},"輸入圖片網址"),Object(a["h"])("input",{type:"text",class:"form-control",id:"image",placeholder:"請輸入圖片連結"})]),Object(a["h"])("div",{class:"mb-3"},[Object(a["h"])("label",{for:"author",class:"form-label"},"作者"),Object(a["h"])("input",{type:"text",class:"form-control",id:"author",placeholder:"請輸入標題"})]),Object(a["h"])("div",{class:"mb-3"},[Object(a["h"])("label",{for:"create_at"},"文章建立日期"),Object(a["h"])("input",{type:"date",class:"form-control",id:"create_at"})])]),Object(a["h"])("div",{class:"col-sm-8"},[Object(a["h"])("label",{for:"tag",class:"form-label"},"標籤"),Object(a["h"])("div",{class:"row gx-1 mb-3"},[Object(a["h"])("div",{class:"col-md-2 mb-1"},[Object(a["h"])("div",{class:"input-group input-group-sm"},[Object(a["h"])("input",{type:"text",class:"form-control form-control",id:"tag",placeholder:"請輸入標籤"}),Object(a["h"])("button",{type:"button",class:"btn btn-outline-danger"},[Object(a["h"])("i",{class:"bi bi-x"})])])]),Object(a["h"])("div",{class:"col-md-2 mb-1"},[Object(a["h"])("button",{class:"btn btn-outline-primary btn-sm d-block w-100"}," 新增標籤 ")])]),Object(a["h"])("div",{class:"mb-3"},[Object(a["h"])("label",{for:"description",class:"form-label"},"文章描述"),Object(a["h"])("textarea",{type:"text",class:"form-control",id:"description",placeholder:"請輸入文章描述"})]),Object(a["h"])("div",{class:"mb-3"}),Object(a["h"])("div",{class:"mb-3"},[Object(a["h"])("div",{class:"form-check"},[Object(a["h"])("input",{class:"form-check-input",type:"checkbox",id:"isPublic"}),Object(a["h"])("label",{class:"form-check-label",for:"isPublic"}," 是否公開 ")])])])])]),Object(a["h"])("div",{class:"modal-footer"},[Object(a["h"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 "),Object(a["h"])("button",{type:"button",class:"btn btn-primary"}," 確認 ")])])],-1),O=[p];function m(t,e,c,l,s,n){return Object(a["B"])(),Object(a["g"])("div",j,O,512)}var f=c("e0ae"),v={props:{article:{type:Object,default:function(){return{}}},isNew:{type:Boolean,default:!0}},mixins:[f["a"]],data:function(){return{modal:""}}},g=c("d959"),y=c.n(g);const x=y()(v,[["render",m]]);var w=x,M={inject:["emitter","$httpMessageState"],components:{ArticleModal:w},data:function(){return{articles:[],article:{},isPublic:!1,isNew:!1,tempArticle:{}}},mounted:function(){this.getArticles()},methods:{getArticles:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/admin/articles?page=").concat(e);this.$http.get(c).then((function(e){t.articles=e.data.articles})).catch((function(e){t.$httpMessageState(e.response,"錯誤訊息")}))},getArticle:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/admin/article/").concat(t);this.$http.get(c).then((function(t){e.article=t.data.article})).catch((function(t){e.$httpMessageState(t.response,"錯誤訊息")}))},openModal:function(t,e){t?(this.tempArticle={isPublic:!1,create_at:(new Date).getTime()/1e3,tag:[]},this.isNew=!0):(this.tempArticle=Object(u["a"])({},e),this.isNew=!1),this.$refs.articleModal.openModal()},updateArticle:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/admin/article"),c="post";this.isNew||(e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/admin/article/").concat(id),c="put"),this.$http[c](e,{data:this.tempArticle}).then((function(t){})).catch((function(e){t.$httpMessageState(e.response,"錯誤訊息")}))}}};const k=y()(M,[["render",h]]);e["default"]=k}}]);
//# sourceMappingURL=chunk-2d0f1552.f69ad2da.js.map