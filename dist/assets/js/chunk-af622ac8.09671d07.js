(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af622ac8"],{"0a2f":function(e,t,c){"use strict";c.r(t);c("b0c0");var a=c("7a23"),l={key:0,class:"order-cart div-front-top"},r=Object(a["createElementVNode"])("div",{class:"header w-100 py-5"},null,-1),o={class:"order-header py-5"},n={class:"d-flex justify-content-center align-items-center"},s={class:"nav-item"},d=Object(a["createElementVNode"])("i",{class:"bi bi-bag-check"},null,-1),i=Object(a["createElementVNode"])("p",null,"購物車確認",-1),b=[d,i],m=Object(a["createElementVNode"])("li",{class:"nav-item line"},[Object(a["createElementVNode"])("hr")],-1),u={class:"nav-item"},p=Object(a["createElementVNode"])("i",{class:"bi bi-list-ul"},null,-1),O=Object(a["createElementVNode"])("p",null,"建立訂單",-1),j=[p,O],V=Object(a["createElementVNode"])("li",{class:"nav-item line"},[Object(a["createElementVNode"])("hr")],-1),N={class:"nav-item"},E=Object(a["createElementVNode"])("i",{class:"bi bi-credit-card-fill"},null,-1),f=Object(a["createElementVNode"])("p",null,"確認及付款",-1),h=[E,f],v=Object(a["createElementVNode"])("li",{class:"nav-item line"},[Object(a["createElementVNode"])("hr")],-1),g={class:"nav-item"},y=Object(a["createElementVNode"])("i",{class:"bi bi-check-circle-fill"},null,-1),k=Object(a["createElementVNode"])("p",null,"訂單完成",-1),x=[y,k],S={class:"container"},C={class:"order-body py-4"},w={key:0,class:"check-cart"},D={class:"table desktop-check-cart align-middle border"},B=Object(a["createElementVNode"])("thead",{class:"border"},[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th"),Object(a["createElementVNode"])("th",null,"商品"),Object(a["createElementVNode"])("th"),Object(a["createElementVNode"])("th",null,"價格"),Object(a["createElementVNode"])("th",null,"數量"),Object(a["createElementVNode"])("th",null,"總價格")])],-1),T={class:"text-center",width:"200"},P=["onClick"],$=Object(a["createElementVNode"])("i",{class:"bi bi-x"},null,-1),q=[$],z={width:"100",class:"mx-5"},I={class:"px-5"},U={class:"hover-black-a",href:"#"},M={width:"100"},_={class:"text-explain fw-normal"},L={width:"150"},R={class:"d-flex align-items-center"},A={class:"d-flex my-3 me-5"},F=["onUpdate:modelValue"],J={class:"input-group w-50 border"},G={class:"input-group-prepend border-bottom px-1"},H=["disabled","onClick"],K=Object(a["createElementVNode"])("i",{class:"bi bi-dash"},null,-1),Q=[K],W={class:"input-group-append px-1"},X=["disabled","onClick"],Y=Object(a["createElementVNode"])("i",{class:"bi bi-plus"},null,-1),Z=[Y],ee={width:"200"},te={class:"text-explain fw-normal"},ce={class:"mobile-check-cart py-3"},ae={class:"py-3 d-flex justify-content-between"},le={class:"product-delete pe-4 align-self-center"},re=["onClick"],oe=Object(a["createElementVNode"])("i",{class:"bi bi-x"},null,-1),ne=[oe],se={class:"cartBox-img"},de=["onClick"],ie=["src"],be={class:"cart-product align-self-start flex-fill ps-3"},me={class:"fw-bold"},ue=["onClick"],pe={class:"qty-price d-flex pe-3"},Oe={class:"price text-secondary"},je={class:"unit ps-1"},Ve={class:"d-flex align-items-center justify-content-between"},Ne={class:"nav-input input-group bg-light rounded me-3 mt-2 border"},Ee={class:"input-group-prepend"},fe=["disabled","onClick"],he=Object(a["createElementVNode"])("i",{class:"bi bi-dash"},null,-1),ve=[he],ge=["onUpdate:modelValue"],ye={class:"input-group-append"},ke=["disabled","onClick"],xe=Object(a["createElementVNode"])("i",{class:"bi bi-plus"},null,-1),Se=[xe],Ce={key:0,class:"spinner-border spinner-border-sm text-muted me-2",role:"status"},we=Object(a["createElementVNode"])("span",{class:"visually-hidden"},"Loading...",-1),De=[we],Be={class:"text-secondary"},Te=Object(a["createTextVNode"])("小計： "),Pe=Object(a["createElementVNode"])("br",null,null,-1),$e={class:"mt-5"},qe=Object(a["createElementVNode"])("span",null,[Object(a["createElementVNode"])("i",{class:"bi bi-arrow-right-circle-fill"}),Object(a["createTextVNode"])(" 周年慶期間消費贈送的優惠券碼，可享有85折優惠！ ")],-1),ze={class:"coupon-item mt-2 d-flex justify-content-between"},Ie={class:"col-6"},Ue={class:"input-group mb-3"},Me=["disabled"],_e={key:0},Le=Object(a["createTextVNode"])(" 已套用優惠券 "),Re=Object(a["createElementVNode"])("i",{class:"bi bi-check-circle-fill"},null,-1),Ae=[Le,Re],Fe={key:1},Je={class:"remove-cart"},Ge={class:"totle border my-5"},He={class:"mb-0 py-4 px-5"},Ke=Object(a["createTextVNode"])("總計 "),Qe={class:"float-end fw-bold"},We={class:"mb-5 text-end"},Xe={key:1,class:"create-order"},Ye={class:"col-md-6"},Ze=Object(a["createElementVNode"])("label",{for:"inputName",class:"form-label"},[Object(a["createElementVNode"])("span",{class:"text-danger"},"*"),Object(a["createTextVNode"])(" 姓名 ")],-1),et={class:"col-md-6"},tt=Object(a["createElementVNode"])("label",{for:"inputEmail",class:"form-label"},[Object(a["createElementVNode"])("span",{class:"text-danger"},"*"),Object(a["createTextVNode"])(" 信箱 ")],-1),ct={class:"col-6"},at=Object(a["createElementVNode"])("label",{for:"phone",class:"form-label"},[Object(a["createElementVNode"])("span",{class:"text-danger"},"*"),Object(a["createTextVNode"])(" 電話 ")],-1),lt={class:"col-6"},rt=Object(a["createElementVNode"])("label",{for:"inputPayment",class:"form-label"},[Object(a["createElementVNode"])("span",{class:"text-danger"},"*"),Object(a["createTextVNode"])(" 付款方式 ")],-1),ot=Object(a["createElementVNode"])("option",{value:"",disabled:""},"請選擇付款方式",-1),nt=Object(a["createElementVNode"])("option",{value:"現金"},"現金",-1),st=Object(a["createElementVNode"])("option",{value:"信用卡"},"信用卡",-1),dt={class:"col-12"},it=Object(a["createElementVNode"])("label",{for:"inputAddress",class:"form-label"},[Object(a["createElementVNode"])("span",{class:"text-danger"},"*"),Object(a["createTextVNode"])(" 地址 ")],-1),bt={class:"col-12"},mt=Object(a["createElementVNode"])("label",{for:"inputMessage",class:"form-label"}," 備註 ",-1),ut={class:"mt-5"},pt={class:"float-start"},Ot=Object(a["createElementVNode"])("div",{class:"float-end"},[Object(a["createElementVNode"])("button",{type:"submit",class:"discolor-button-light"}," 下一步 ")],-1),jt={key:2,class:"check-order py-5"},Vt={class:"check-order-list mx-auto"},Nt={class:"row"},Et={class:"col-6"},ft=Object(a["createElementVNode"])("label",{for:"inputName",class:"form-label"},"姓名",-1),ht={class:"col-6"},vt=Object(a["createElementVNode"])("label",{for:"phone",class:"form-label"},"電話",-1),gt={class:"col-6 mobile-email"},yt=Object(a["createElementVNode"])("label",{for:"inputEmail",class:"form-label"},"信箱",-1),kt={class:"col-6 mobile-pay"},xt=Object(a["createElementVNode"])("label",{for:"inputPayment",class:"form-label"},"付款方式",-1),St={class:"col-12"},Ct=Object(a["createElementVNode"])("label",{for:"inputAddress",class:"form-label"},"地址",-1),wt={class:"col-12"},Dt=Object(a["createElementVNode"])("label",{for:"inputMessage",class:"form-label"},"備註",-1),Bt={class:"order-details mx-auto"},Tt=Object(a["createElementVNode"])("h4",null,"商品明細",-1),Pt={class:"px-4 border"},$t={class:"table align-middle"},qt={width:"120",class:"py-4 pe-3 ps-0"},zt={class:"product-title"},It={class:"price-total text-color-9c"},Ut=Object(a["createElementVNode"])("td",{class:"ps-0"},[Object(a["createElementVNode"])("div",null,"總計")],-1),Mt={class:"pe-0"},_t={class:"text-end text-color-9c"},Lt=Object(a["createElementVNode"])("td",{class:"ps-0"},[Object(a["createElementVNode"])("div",null,"折扣後")],-1),Rt={class:"pe-0"},At={class:"text-end text-color-9c"},Ft={class:"my-5"},Jt={class:"float-start"},Gt={class:"float-end"},Ht={key:3,class:"order-received mt-3"},Kt={class:"row flex-column align-items-center text-center"},Qt={class:"col-4 mb-5"},Wt=Object(a["createElementVNode"])("p",{class:"mb-3"},"訂單已成立，我們將盡快為您安排出貨，謝謝。",-1),Xt={class:"mb-1"},Yt=Object(a["createTextVNode"])("訂單編號 : "),Zt={class:"text-color-9c"},ec={class:"mb-1"},tc=Object(a["createTextVNode"])("訂單日期 : "),cc={class:"text-color-9c"},ac={class:"col-4"},lc=Object(a["createElementVNode"])("button",{type:"submit",class:"discolor-button-light"}," 返回首頁 ",-1);function rc(e,t,c,d,i,p){var O=Object(a["resolveComponent"])("Field"),E=Object(a["resolveComponent"])("Form"),f=Object(a["resolveComponent"])("ErrorMessage"),y=Object(a["resolveComponent"])("router-link");return i.cart.carts?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[r,Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("ul",n,[Object(a["createElementVNode"])("li",s,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["nav-link",{active:i.stepStatus.checkCart}])},b,2)]),m,Object(a["createElementVNode"])("li",u,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["nav-link",{active:i.stepStatus.createOrder&&!i.stepStatus.checkCart,disabled:!i.stepStatus.createOrder&&!i.stepStatus.checkOrder&&!i.stepStatus.orderReceived}])},j,2)]),V,Object(a["createElementVNode"])("li",N,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["nav-link",{active:i.stepStatus.checkOrder&&!i.stepStatus.checkCart&&!i.stepStatus.createOrder,disabled:!i.stepStatus.checkOrder&&!i.stepStatus.checkOrder&&!i.stepStatus.orderReceived}])},h,2)]),v,Object(a["createElementVNode"])("li",g,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["nav-link",{active:i.stepStatus.orderReceived,disabled:!i.stepStatus.orderReceived}])},x,2)])])]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",S,[Object(a["createElementVNode"])("div",C,[i.stepStatus.checkCart?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",w,[Object(a["createElementVNode"])("table",D,[B,Object(a["createElementVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(i.cart.carts,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{class:"border-bottom",key:e.id},[Object(a["createElementVNode"])("th",T,[Object(a["createElementVNode"])("button",{type:"button",class:"close",onClick:function(t){return p.removeCartItem(e.id)}},q,8,P)]),Object(a["createElementVNode"])("th",z,[Object(a["createElementVNode"])("div",{style:Object(a["normalizeStyle"])([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(e.product.imageUrl,")")}])},null,4)]),Object(a["createElementVNode"])("th",I,[Object(a["createElementVNode"])("a",U,Object(a["toDisplayString"])(e.product.title),1)]),Object(a["createElementVNode"])("th",M,[Object(a["createElementVNode"])("span",_,Object(a["toDisplayString"])(e.product.price),1)]),Object(a["createElementVNode"])("th",L,[Object(a["createElementVNode"])("div",R,[Object(a["createElementVNode"])("div",A,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:"form-control text-center text-explain rounded-0 border-end-0",placeholder:"","onUpdate:modelValue":function(t){return e.qty=t}},null,8,F),[[a["vModelText"],e.qty,void 0,{number:!0}]]),Object(a["createElementVNode"])("div",J,[Object(a["createElementVNode"])("div",G,[Object(a["createElementVNode"])("button",{type:"button",class:"btn",disabled:1===e.qty||i.loadingStatus.loadingItem===e.id,onClick:function(t){return p.updateCart(e,-1)}},Q,8,H)]),Object(a["createElementVNode"])("div",W,[Object(a["createElementVNode"])("button",{type:"button",class:"btn",disabled:i.loadingStatus.loadingItem===e.id,onClick:function(t){return p.updateCart(e,1)}},Z,8,X)])])])])]),Object(a["createElementVNode"])("th",ee,[Object(a["createElementVNode"])("span",te,Object(a["toDisplayString"])(e.total),1)])])})),128))])]),Object(a["createElementVNode"])("div",ce,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(i.cart.carts,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("ul",{class:"list-unstyled px-3 border",key:e.id},[Object(a["createElementVNode"])("li",ae,[Object(a["createElementVNode"])("div",le,[Object(a["createElementVNode"])("button",{type:"button",class:"close",onClick:function(t){return p.removeCartItem(e.id)}},ne,8,re)]),Object(a["createElementVNode"])("div",se,[Object(a["createElementVNode"])("a",{href:"#","data-bs-dismiss":"offcanvas",onClick:Object(a["withModifiers"])((function(t){return p.viewProduct(e.product_id)}),["prevent"])},[Object(a["createElementVNode"])("img",{src:e.product.imageUrl,alt:""},null,8,ie)],8,de)]),Object(a["createElementVNode"])("div",be,[Object(a["createElementVNode"])("h6",me,[Object(a["createElementVNode"])("a",{class:"text-dark",href:"#","data-bs-dismiss":"offcanvas",onClick:Object(a["withModifiers"])((function(t){return p.viewProduct(e.product_id)}),["prevent"])},Object(a["toDisplayString"])(e.product.title),9,ue)]),Object(a["createElementVNode"])("div",pe,[Object(a["createElementVNode"])("small",Oe,"$ "+Object(a["toDisplayString"])(e.product.price)+" / ",1),Object(a["createElementVNode"])("small",je,Object(a["toDisplayString"])(e.product.unit),1)]),Object(a["createElementVNode"])("div",Ve,[Object(a["createElementVNode"])("div",Ne,[Object(a["createElementVNode"])("div",Ee,[Object(a["createElementVNode"])("button",{class:"btn btn-outline-secondary border-0 rounded-0 py-2 px-1 border-end",type:"button",disabled:1===e.qty||i.loadingStatus.loadingItem===e.id,onClick:function(t){return p.updateCart(e,-1)}},ve,8,fe)]),Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none px-1 bg-light fs-6 text-secondary",placeholder:"","onUpdate:modelValue":function(t){return e.qty=t},disabled:""},null,8,ge),[[a["vModelText"],e.qty,void 0,{number:!0}]]),Object(a["createElementVNode"])("div",ye,[Object(a["createElementVNode"])("button",{class:"btn btn-outline-secondary border-0 rounded-0 py-2 px-1 border-start",type:"button",disabled:i.loadingStatus.loadingItem===e.id,onClick:function(t){return p.updateCart(e,1)}},Se,8,ke)])]),Object(a["createElementVNode"])("div",null,[i.loadingStatus.loadingItem===e.id?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ce,De)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("small",Be,[Te,Pe,Object(a["createTextVNode"])(" NT$ "+Object(a["toDisplayString"])(e.total),1)])])])])])])})),128))]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",$e,[qe,Object(a["createElementVNode"])("div",ze,[Object(a["createElementVNode"])("div",Ie,[Object(a["createVNode"])(E,{onSubmit:p.onDiscount},{default:Object(a["withCtx"])((function(e){var c,l,r=e.errors;return[Object(a["createElementVNode"])("div",Ue,[Object(a["createVNode"])(O,{id:"coupon",name:"優惠券",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":r["優惠券"]}]),disabled:"coupon"===i.loadingStatus.loadingItem,placeholder:"請輸入優惠碼",modelValue:i.discountCode,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.discountCode=e})},null,8,["class","disabled","modelValue"]),Object(a["createElementVNode"])("button",{class:"discolor-button",type:"submit",id:"button-coupon",disabled:!i.discountCode},[null!==(c=i.cart)&&void 0!==c&&null!==(l=c.carts[0])&&void 0!==l&&l.coupon?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",_e,Ae)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",Fe,"套用優惠券"))],8,Me)])]})),_:1},8,["onSubmit"])]),Object(a["createElementVNode"])("div",Je,[Object(a["createElementVNode"])("button",{type:"button",class:"discolor-button-light",onClick:t[1]||(t[1]=function(e){return p.removeCartAll("all")})}," 清空購物車 ")])])])])]),Object(a["createElementVNode"])("div",Ge,[Object(a["createElementVNode"])("p",He,[Ke,Object(a["createElementVNode"])("span",Qe,"$NT "+Object(a["toDisplayString"])(e.$filters.currency(i.cart.total)),1)])]),Object(a["createElementVNode"])("div",We,[Object(a["createElementVNode"])("button",{type:"submit",class:"discolor-button-light",onClick:t[2]||(t[2]=function(){return p.onSubmit&&p.onSubmit.apply(p,arguments)})}," 下一步 ")])])):Object(a["createCommentVNode"])("",!0),i.stepStatus.createOrder&&!i.stepStatus.checkCart?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Xe,[Object(a["createVNode"])(E,{class:"row g-3",onSubmit:p.onSubmit},{default:Object(a["withCtx"])((function(e){var c=e.errors;return[Object(a["createElementVNode"])("div",Ye,[Ze,Object(a["createVNode"])(O,{id:"inputName",name:"姓名",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:i.form.user.name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.form.user.name=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(f,{name:"姓名",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",et,[tt,Object(a["createVNode"])(O,{id:"inputEmail",name:"信箱",type:"email",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["信箱"]}]),placeholder:"請輸入信箱",rules:"email|required",modelValue:i.form.user.email,"onUpdate:modelValue":t[4]||(t[4]=function(e){return i.form.user.email=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(f,{name:"信箱",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",ct,[at,Object(a["createVNode"])(O,{id:"phone",name:"電話",type:"phone",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["電話"]}]),placeholder:"請輸入電話",rules:"required",modelValue:i.form.user.tel,"onUpdate:modelValue":t[5]||(t[5]=function(e){return i.form.user.tel=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(f,{name:"電話",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",lt,[rt,Object(a["createVNode"])(O,{id:"inputPayment",name:"付款方式",class:Object(a["normalizeClass"])(["form-select",{"is-invalid":c["付款方式"]}]),placeholder:"請輸入付款方式",as:"select",rules:"required",modelValue:i.form.user.payment,"onUpdate:modelValue":t[6]||(t[6]=function(e){return i.form.user.payment=e})},{default:Object(a["withCtx"])((function(){return[ot,nt,st]})),_:2},1032,["class","modelValue"]),Object(a["createVNode"])(f,{name:"付款方式",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",dt,[it,Object(a["createVNode"])(O,{id:"inputAddress",name:"地址",type:"address",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:i.form.user.address,"onUpdate:modelValue":t[7]||(t[7]=function(e){return i.form.user.address=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(f,{name:"地址",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",bt,[mt,Object(a["createVNode"])(O,{id:"inputMessage",name:"message",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["message"]}]),placeholder:"請輸入備註",as:"textarea",modelValue:i.form.message,"onUpdate:modelValue":t[8]||(t[8]=function(e){return i.form.message=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(f,{name:"message",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",ut,[Object(a["createElementVNode"])("div",pt,[Object(a["createElementVNode"])("button",{type:"submit",class:"discolor-button-light",onClick:t[9]||(t[9]=function(){return p.onPreStep&&p.onPreStep.apply(p,arguments)})}," 上一步 ")]),Ot])]})),_:1},8,["onSubmit"])])):Object(a["createCommentVNode"])("",!0),i.stepStatus.checkOrder&&!i.stepStatus.createOrder?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",jt,[Object(a["createElementVNode"])("div",Vt,[Object(a["createElementVNode"])("div",Nt,[Object(a["createElementVNode"])("div",Et,[ft,Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(i.form.user.name),1)]),Object(a["createElementVNode"])("div",ht,[vt,Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(i.form.user.tel),1)]),Object(a["createElementVNode"])("div",gt,[yt,Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(i.form.user.email),1)]),Object(a["createElementVNode"])("div",kt,[xt,Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(i.form.user.payment),1)]),Object(a["createElementVNode"])("div",St,[Ct,Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(i.form.user.address),1)]),Object(a["createElementVNode"])("div",wt,[Dt,Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(i.form.message),1)])])]),Object(a["createElementVNode"])("div",Bt,[Tt,Object(a["createElementVNode"])("div",Pt,[Object(a["createElementVNode"])("table",$t,[Object(a["createElementVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(i.cart.carts,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{class:"border-bottom",key:e.id},[Object(a["createElementVNode"])("td",qt,[Object(a["createElementVNode"])("div",{style:Object(a["normalizeStyle"])([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(e.product.imageUrl,")")}])},null,4)]),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("div",zt,Object(a["toDisplayString"])(e.product.title)+" x "+Object(a["toDisplayString"])(e.qty),1),Object(a["createElementVNode"])("div",It," NT$ "+Object(a["toDisplayString"])(e.total),1)])])})),128)),Object(a["createElementVNode"])("tr",null,[Ut,Object(a["createElementVNode"])("td",Mt,[Object(a["createElementVNode"])("div",_t,"NT$ "+Object(a["toDisplayString"])(e.$filters.currency(i.cart.total)),1)])]),Object(a["createElementVNode"])("tr",null,[Lt,Object(a["createElementVNode"])("td",Rt,[Object(a["createElementVNode"])("div",At,"NT$ "+Object(a["toDisplayString"])(e.$filters.currency(i.cart.final_total)),1)])])])])])]),Object(a["createElementVNode"])("div",Ft,[Object(a["createElementVNode"])("div",Jt,[Object(a["createElementVNode"])("button",{type:"submit",class:"discolor-button-light",onClick:t[10]||(t[10]=function(){return p.onPreStep&&p.onPreStep.apply(p,arguments)})}," 上一步 ")]),Object(a["createElementVNode"])("div",Gt,[Object(a["createElementVNode"])("button",{type:"submit",class:"discolor-button-light",onClick:t[11]||(t[11]=function(){return p.onSendOrder&&p.onSendOrder.apply(p,arguments)})}," 確認付款 ")])])])):Object(a["createCommentVNode"])("",!0),i.stepStatus.orderReceived?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ht,[Object(a["createElementVNode"])("div",Kt,[Object(a["createElementVNode"])("div",Qt,[Wt,Object(a["createElementVNode"])("p",Xt,[Yt,Object(a["createElementVNode"])("span",Zt,Object(a["toDisplayString"])(i.order.orderId),1)]),Object(a["createElementVNode"])("p",ec,[tc,Object(a["createElementVNode"])("span",cc,Object(a["toDisplayString"])(i.order.create_at),1)])]),Object(a["createElementVNode"])("div",ac,[Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(y,{to:"/"},{default:Object(a["withCtx"])((function(){return[lc]})),_:1})])])])])):Object(a["createCommentVNode"])("",!0)])])])])])):Object(a["createCommentVNode"])("",!0)}var oc=c("5530"),nc=(c("99af"),{inject:["emitter","$httpMessageState"],data:function(){return{cart:{},loadingStatus:{loadingItem:""},stepStatus:{checkCart:!0,createOrder:!1,checkOrder:!1,orderReceived:!1},form:{user:{}},order:{},discountCode:""}},methods:{inTheCart:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/cart");this.emitter.emit("change-isLoading",!0),this.$http.get(t).then((function(t){e.emitter.emit("change-isLoading",!1),t.data.success?e.cart=t.data.data:alert(t.data.message)})).catch((function(e){alert(e.response.data.message)}))},updateCart:function(e,t){var c=this,a=e.qty+t;if(a>=1){var l={product_id:e.product.id,qty:a},r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/cart/").concat(e.id);this.$http.put(r,{data:l}).then((function(e){e.data.success||alert(e.data.message),c.inTheCart()})).catch((function(e){alert(e.response.data.message)}))}},getDisCount:function(e){var t=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/coupon"),a={code:e};this.emitter.emit("change-isLoading",!0),this.$http.post(c,{data:a}).then((function(e){t.emitter.emit("change-isLoading",!1),t.$httpMessageState(e,"套用優惠券"),e.data.success&&(t.inTheCart(),t.discountCode="")})).catch((function(){t.setTips(!1,"糟糕，無法套用此優惠券!"),t.$httpMessageState(t.tips,"套用優惠券")}))},removeCartItem:function(e){var t=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/cart/").concat(e);this.$http.delete(c).then((function(e){e.data.success?(alert(e.data.message),t.inTheCart()):alert(e.data.message)})).catch((function(e){alert(e.data.message)}))},removeCartAll:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/carts");this.$http.delete(t).then((function(t){t.data.success?(alert(t.data.message),e.inTheCart()):alert(t.data.message)}))},onSendOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/order");this.cart.carts.length&&this.$http.post(t,{data:this.form}).then((function(t){t.data.success?(e.order=Object(oc["a"])({},t.data),e.onPayOrder()):alert("建立訂單")})).catch((function(e){alert(e.response.data.message)}))},onPayOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/pay/").concat(this.order.orderId);this.$http.post(t).then((function(t){t.data.success?(e.stepStatus.checkOrder=!1,e.stepStatus.orderReceived=!0,e.emitter.emit("get-cart")):alert("付款")})).catch((function(e){alert(e.response.data.message)}))},onSubmit:function(){this.stepStatus.checkCart?(this.stepStatus.checkCart=!1,this.stepStatus.createOrder=!0):this.stepStatus.createOrder&&(this.stepStatus.createOrder=!1,this.stepStatus.checkOrder=!0)},onPreStep:function(){this.stepStatus.createOrder?this.stepStatus.checkCart=!0:this.stepStatus.checkOrder&&(this.stepStatus.createOrder=!0)},onDiscount:function(){this.getDisCount(this.discountCode)},viewProduct:function(e){this.$router.push("/product/".concat(e))}},mounted:function(){this.inTheCart()}}),sc=c("d959"),dc=c.n(sc);const ic=dc()(nc,[["render",rc]]);t["default"]=ic},5530:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));c("b64b"),c("a4d3"),c("4de4"),c("d3b7"),c("e439"),c("159b"),c("dbb4");var a=c("ade3");function l(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,a)}return c}function r(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?l(Object(c),!0).forEach((function(t){Object(a["a"])(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):l(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}},dbb4:function(e,t,c){var a=c("23e7"),l=c("83ab"),r=c("56ef"),o=c("fc6a"),n=c("06cf"),s=c("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(e){var t,c,a=o(e),l=n.f,d=r(a),i={},b=0;while(d.length>b)c=l(a,t=d[b++]),void 0!==c&&s(i,t,c);return i}})},e439:function(e,t,c){var a=c("23e7"),l=c("d039"),r=c("fc6a"),o=c("06cf").f,n=c("83ab"),s=l((function(){o(1)})),d=!n||s;a({target:"Object",stat:!0,forced:d,sham:!n},{getOwnPropertyDescriptor:function(e,t){return o(r(e),t)}})}}]);
//# sourceMappingURL=chunk-af622ac8.09671d07.js.map