{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?9d62","webpack:///./src/views/Backend/Orders.vue","webpack:///./src/components/Backend/OrderModal.vue","webpack:///./src/components/Backend/OrderModal.vue?fd77","webpack:///./src/views/Backend/Orders.vue?c212"],"names":["class","aria-label","aria-hidden","pages","has_pre","href","$emit","current_page","total_pages","item","key","has_next","props","__exports__","render","active","isLoading","z-index","orders","$filters","date","create_at","user","email","products","product","i","title","qty","unit","total","type","id","is_paid","updateOrder","checked","for","openModal","delOrderModal","order","tempOrder","ref","delOrder","pagination","getOrders","aria-labelledby","tabindex","data-bs-dismiss","name","tel","address","value","Object","default","data","modal","isPaid","emits","mixins","modalMixin","inject","watch","this","isNew","currentPage","components","Pagination","OrderModal","DeleteProduct","methods","api","$http","get","tempProduct","then","response","catch","error","$httpMessageState","orderComponent","$refs","orderModal","delComponent","deleteProduct","paid","put","hideModal","delete","created"],"mappings":"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","file":"assets/js/chunk-7e6e259d.350ccc9d.js","sourcesContent":["<template>\r\n  <div class=\"d-flex justify-content-center\">\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul class=\"pagination\" >\r\n        <!-- :class=\"{ 'disabled':!pages.has_prc } 這個時候的資料已經在 pages 裡面 -->\r\n        <!-- 發現必須先寫 :class=\"{ disabled: !pages.has_pre }\" 再寫 class=\"page-item\" Previous 才有反應 -->\r\n        <li :class=\"{ disabled: !pages.has_pre }\" class=\"page-item\">\r\n          <a \r\n            class=\"page-link\" \r\n            href=\"#\" \r\n            aria-label=\"Previous\"\r\n            @click.prevent=\"$emit('get-datas', pages.current_page - 1)\"\r\n          >\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n          </a>\r\n        </li>\r\n        <li \r\n          class=\"page-item\"\r\n          v-for=\"(item, key) in pages.total_pages\"\r\n          :key=\"key\"\r\n          :class=\"{ active: item === pages.current_page }\"\r\n        >\r\n          <span class=\"page-link\" v-if=\"item === pages.current_page\">\r\n            {{ item }}\r\n          </span>\r\n          <a\r\n            class=\"page-link\"\r\n            v-else\r\n            href=\"#\"\r\n            @click.prevent=\"$emit('get-datas', item)\"\r\n          >\r\n            {{ item }}\r\n          </a>\r\n        </li>\r\n        <li \r\n          class=\"page-item\"\r\n          :class=\"{ disabled: !pages.has_next }\"\r\n        >\r\n          <a\r\n            class=\"page-link\"\r\n            href=\"#\"\r\n            aria-label=\"Next\"\r\n            @click.prevent=\"$emit('get-datas', pages.current_page + 1)\"\r\n          >\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  // Products.vue 的 pagination 傳送進來\r\n  props:['pages'],\r\n  // methods: {\r\n  //   updatePage(page) {\r\n  //     // emit 觸發 Products.vue 的 getProducts\r\n  //     // 並且代入 getProducts 的參數 page\r\n  //     this.$emit('emitPages', page);\r\n  //   },    \r\n  // },\r\n}\r\n</script>","import { render } from \"./Pagination.vue?vue&type=template&id=0afc6e6a\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\html\\\\六角學院\\\\vue3\\\\vue-cli\\\\the-no9\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"div-backend-top\">\n    <Loading :active=\"isLoading\" :z-index=\"1060\"></Loading>\n    <table class=\"table mt-4\">\n        <thead>\n          <tr>\n            <th>購買時間</th>\n            <th>Email</th>\n            <th>購買款項</th>\n            <th>應付金額</th>\n            <th>是否付款</th>\n            <th>編輯</th>\n          </tr>\n        </thead>\n        <tbody>\n          <template v-for=\"(item, key) in orders\" :key=\"key\">\n            <tr>\n              <td>{{ $filters.date(item.create_at) }}</td>\n              <td>\n                <span v-text=\"item.user.email\" v-if=\"item.user\"></span>\n              </td>\n              <td>\n                <ul class=\"list-unstyled\">\n                  <!-- v-for=\"(product, i) in item.products\" (product, i) product 可以自行定義， i 為索引值\n                  item.products 用網頁看 vue 項目會看到，項目底下有一個 products\n                  products 裡面還有一個 product\n                  因此 {{ product.product.title }} 則是 {{ 自定義的 product.項目裡的 product.product 裡的 title }} -->\n                  <li v-for=\"(product, i) in item.products\" :key=\"i\">\n                    <p>{{ product.product.title }} 　　數量：{{ product.qty }} {{ product.product.unit }}</p>\n                    <!-- {{ product.qty }} 用網頁看 vue 可以看到 qty 和 product 同層，因此這邊是 {{ 自定義 product.products 的 qty }} -->\n                  </li>\n                </ul>\n              </td>\n              <td>{{ item.total }}</td>\n              <td>\n                <div class=\"form-check form-switch\">\n                  <!-- :id=\"`paidCheck${item.id}`\" paidCheck為自定義 -->\n                  <input \n                    class=\"form-check-input\" \n                    type=\"checkbox\" \n                    id=\"flexSwitchCheckChecked\" \n                    :id=\"`paidCheck${item.id}`\"\n                    v-model=\"item.is_paid\"\n                    @change=\"updateOrder(item)\"\n                    checked >\n                  <label class=\"form-check-label\" for=\"flexSwitchCheckChecked\" :for=\"`paidCheck${item.id}`\">\n                    <span v-if=\"item.is_paid\">已付款</span>\n                    <span v-else>未付款</span>  \n                  </label>\n                </div>\n                \n              </td>\n              <td>\n                <button \n                  type=\"button\" \n                  class=\"btn btn-sm btn-outline-secondary border-end-0 rounded-0\"\n                  @click=\"openModal(item)\"\n                >\n                  檢視\n                </button>\n                <button \n                  type=\"button\" \n                  class=\"btn btn-sm btn-outline-danger rounded-0\"\n                  @click=\"delOrderModal(item)\"\n                >\n                  刪除\n                </button>\n              </td>\n            </tr>\n          </template>         \n        </tbody>\n      </table>\n      <OrderModal :order=\"tempOrder\" @update-order=\"updateOrder\" ref=\"orderModal\"></OrderModal>\n      <DeleteProduct :item=\"tempOrder\" @del-product=\"delOrder\" ref=\"deleteProduct\"></DeleteProduct>\n      <Pagination :pages=\"pagination\" @get-datas=\"getOrders\"></Pagination>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination.vue';\nimport OrderModal from '@/components/Backend/OrderModal.vue';\nimport DeleteProduct from '@/components/Backend/DeleteProduct.vue';\n\nexport default {\n  data() {\n    return {\n      orders: {},\n      isNew: false,\n      isLoading: false,\n      pagination: {},\n      tempOrder: {},\n      currentPage: 1,\n    };\n  },\n  components: {\n    Pagination,\n    OrderModal,\n    DeleteProduct,\n  },\n  methods: {\n    getOrders(currentPage = 1) {\n      this.currentPage = currentPage;\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders?page=${currentPage}`;\n      this.isLoading = true;\n      this.$http.get(api, this.tempProduct)\n      .then((response) => {\n        this.orders = response.data.orders;\n        this.pagination = response.data.pagination;\n        this.isLoading = false;\n      })\n      .catch((error) => {\n        this.isLoading = false;\n        this.$httpMessageState(error.response, '錯誤訊息');\n      })\n    },\n    openModal(item) {\n      this.tempOrder = {...item};\n      this.isNew = false;\n      const orderComponent = this.$refs.orderModal;\n      orderComponent.openModal();\n    },\n    delOrderModal(item) {\n      this.tempOrder = {...item};\n      const delComponent = this.$refs.deleteProduct;\n      delComponent.openModal();\n    },\n    updateOrder(item) {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\n      this.isLoading = true;\n      const paid = {\n        is_paid: item.is_paid,\n      };\n      this.$http.put(api, { data: paid })\n      .then((response) => {\n        this.isLoading = false;\n        const orderComponent = this.$refs.orderModal;\n        orderComponent.hideModal();\n        this.getOrders(this.currentPage);\n        this.$httpMessageState(response, '更新付款狀態');\n      })\n      .catch((error) => {\n        this.isLoading = false;\n        this.$httpMessageState(error.response, '錯誤訊息');\n      })\n    },\n    delOrder() {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`;\n      this.isLoading = true;\n      this.$http.delete(api)\n      .then(() => {\n        const delComponent = this.$refs.deleteProduct;\n        delComponent.hideModal();\n        this.isLoading = false;\n        this.getOrders(this.currentPage);\n      })\n      .catch((error) => {\n        this.isLoading = false;\n        this.$httpMessageState(error.response, '錯誤訊息');\n      })\n    },\n  },\n  created() {\n    this.getOrders();\n  },\n}\n</script>","<template>\n  <div>\n    <div class=\"modal fade\" id=\"orderModal\" ref=\"modal\" aria-hidden=\"true\" aria-labelledby=\"exampleModalToggleLabel\" tabindex=\"-1\">\n      <div class=\"modal-dialog modal-dialog-centered modal-xl\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header bg-dark\">\n            <h5 class=\"modal-title text-light\" id=\"exampleModalToggleLabel\">訂單細節</h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"row\">\n              <div class=\"col-md-4\">\n                <h4>用戶資料</h4>\n                <table class=\"table\">\n                  <tbody v-if=\"tempOrder.user\">\n                    <tr>\n                      <th>姓名</th>\n                      <td>{{ tempOrder.user.name }}</td>\n                    </tr>\n                    <tr>\n                      <th>Email</th>\n                      <td>{{ tempOrder.user.email }}</td>\n                    </tr>\n                    <tr>\n                      <th>電話</th>\n                      <td>{{ tempOrder.user.tel }}</td>\n                    </tr>\n                    <tr>\n                      <th>地址</th>\n                      <td>{{ tempOrder.user.address }}</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              <div class=\"col-md-8\">\n                <h4>訂單細節</h4>\n                <!-- 訂單細節 -->\n                <table class=\"table\">\n                  <tbody>\n                    <tr>\n                      <th>訂單編號</th>\n                      <td>{{ tempOrder.id }}</td>\n                    </tr>\n                    <tr>\n                      <th>下單時間</th>\n                      <td>{{ $filters.date(tempOrder.create_at) }}</td>\n                    </tr>\n                    <tr>\n                      <th>付款時間</th>\n                      <td>\n                        <span v-if=\"tempOrder.is_paid\">{{ $filters.date(tempOrder.is_paid)}}</span>\n                        <span v-else>時間不正確</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <th>付款狀態</th>\n                      <td>\n                        <span class=\"text-success\" v-if=\"tempOrder.is_paid\">已付款</span>\n                        <span v-else class=\"text-secondary\">未付款</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <th>總金額</th>\n                      <td>{{ tempOrder.total }}</td>\n                    </tr>\n                  </tbody>\n                </table>\n                <!-- 選購商品 -->\n                <h4>選購商品</h4>\n                <table class=\"table\">\n                  <tbody>\n                    <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\n                      <th>{{ item.product.title }}</th>\n                      <td>{{ item.qty }} / {{ item.product.unit }}</td>\n                    </tr>\n                  </tbody>\n                </table>\n                <div class=\"d-flex justify-content-end\">\n                  <div class=\"form-check\">\n                    <input \n                      class=\"form-check-input\" \n                      type=\"checkbox\" \n                      value=\"\" \n                      id=\"flexCheckChecked\" \n                      v-model=\"tempOrder.is_paid\"\n                      checked\n                    >\n                    <label class=\"form-check-label\" for=\"flexCheckChecked\">\n                      <span v-if=\"tempOrder.is_paid\">已付款</span>\n                      <span v-else>未付款</span>\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-secondary\" \n              data-bs-dismiss=\"modal\" \n            >\n              取消\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-secondary\" \n              @click=\"$emit('update-order', tempOrder)\"\n            >\n              修改付款狀態\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    order: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      modal: '',\n      tempOrder: {},\n      isPaid: false,\n    };\n  },\n  emits: ['update-order'],\n  mixins: [modalMixin],\n  inject: ['emitter'],\n  watch: {\n    order() {\n      this.tempOrder = this.order;\n    },\n  },\n}\n</script>","import { render } from \"./OrderModal.vue?vue&type=template&id=3f4aa201\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\html\\\\六角學院\\\\vue3\\\\vue-cli\\\\the-no9\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Orders.vue?vue&type=template&id=7756b831\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\html\\\\六角學院\\\\vue3\\\\vue-cli\\\\the-no9\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}