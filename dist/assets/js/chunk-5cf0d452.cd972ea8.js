(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cf0d452"],{"41cf":function(e,t,a){e.exports=a.p+"assets/img/logo.eb050ee8.gif"},"59a0":function(e,t,a){},"693c":function(e,t,a){"use strict";a("59a0")},de8a:function(e,t,a){"use strict";a.r(t);var c=a("7a23"),n={class:"main-container"};function o(e,t,a,o,s,l){var r=Object(c["resolveComponent"])("Loading"),i=Object(c["resolveComponent"])("ToastMessages"),d=Object(c["resolveComponent"])("Navbar"),u=Object(c["resolveComponent"])("router-view");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(r,{active:s.isLoading,"z-index":1070},null,8,["active"]),Object(c["createVNode"])(i),Object(c["createVNode"])(d),Object(c["createElementVNode"])("div",n,[Object(c["createVNode"])(u)])],64)}var s=a("41cf"),l=a.n(s),r={class:"fixed-top"},i={class:"navbar navbar-expand-lg navbar-light py-4 px-4"},d={class:"container-fluid"},u=Object(c["createElementVNode"])("img",{src:l.a,alt:"TheNo9-LOGO",style:{width:"160px"},class:"me-3"},null,-1),b=Object(c["createElementVNode"])("button",{class:"navbarBtn navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(c["createElementVNode"])("span",{class:"navbar-toggler-icon"})],-1),m={class:"collapse navbar-collapse justify-content-end",id:"navbarNavAltMarkup"},p={class:"navbar-nav"},v=Object(c["createElementVNode"])("a",{class:"nav-link pe-4","aria-current":"page",href:"#"},"首頁",-1),j=Object(c["createTextVNode"])("精緻皮件"),f=Object(c["createTextVNode"])("關於我們"),O=Object(c["createTextVNode"])("部落格"),g={class:"d-flex me-3 fun-bar"},h=Object(c["createElementVNode"])("i",{class:"bi bi-cart pe-1"},null,-1),N={key:0,class:"cart-quantity"},V={class:"cartBox offcanvas offcanvas-end offcanvas-size",tabindex:"-1",id:"cartBoxId"},E=Object(c["createElementVNode"])("div",{class:"offcanvas-header px-4"},[Object(c["createElementVNode"])("h5",{class:"offcanvas-title title"},"訂單清單"),Object(c["createElementVNode"])("button",{type:"button",class:"close text-reset","data-bs-dismiss":"offcanvas"},[Object(c["createElementVNode"])("i",{class:"bi bi-x"})])],-1),x={key:0,class:"d-flex flex-column justify-content-center text-center"},y=Object(c["createElementVNode"])("h5",{class:"pb-2 lh-base fs-5 text text-explain"},"您的購物車還沒有商品喔，要開始替自己添加精美皮件了嗎？",-1),k=Object(c["createElementVNode"])("button",{class:"discolor-button",type:"button","data-bs-dismiss":"offcanvas"}," 開始購物 ",-1),C={class:"py-3 d-flex justify-content-between border-bottom"},w={class:"cartBox-img"},S=["onClick"],B=["src"],T={class:"cart-product align-self-start flex-fill ps-3"},I={class:"fw-bold"},L=["onClick"],M={class:"qty-price d-flex pe-3"},$={class:"price text-secondary"},_={class:"unit ps-1"},q={class:"d-flex align-items-center"},D={class:"nav-input input-group bg-light rounded me-3 mt-2 border"},A={class:"input-group-prepend"},z=["disabled","onClick"],F=Object(c["createElementVNode"])("i",{class:"bi bi-dash"},null,-1),P=[F],U=["onUpdate:modelValue"],J={class:"input-group-append"},G=["disabled","onClick"],H=Object(c["createElementVNode"])("i",{class:"bi bi-plus"},null,-1),K=[H],Q={key:0,class:"spinner-border spinner-border-sm text-muted me-2",role:"status"},R=Object(c["createElementVNode"])("span",{class:"visually-hidden"},"Loading...",-1),W=[R],X={class:"text-secondary"},Y=Object(c["createTextVNode"])("小計： "),Z=Object(c["createElementVNode"])("br",null,null,-1),ee={class:"product-delete align-self-center"},te=["onClick"],ae=Object(c["createElementVNode"])("i",{class:"bi bi-x"},null,-1),ce=[ae],ne={key:0,class:"offcanvas-footer"},oe={class:"price-text text-end px-4"},se=Object(c["createTextVNode"])(" 總 計： NT$ "),le={class:"fs-5 fw-bold"},re={class:"row py-3"},ie={class:"col-6 pe-1 ps-4 text-end"},de={class:"col-6 col-6 ps-1 pe-4"},ue=Object(c["createElementVNode"])("button",{class:"checkout discolor-button-light w-100",type:"button","data-bs-dismiss":"offcanvas"}," 結帳 ",-1),be={class:"overlay"};function me(e,t,a,n,o,s){var l,F,H,R,ae,me,pe,ve,je,fe,Oe=Object(c["resolveComponent"])("Loading"),ge=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(Oe,{active:o.isLoading},null,8,["active"]),Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("nav",i,[Object(c["createElementVNode"])("div",d,[Object(c["createVNode"])(ge,{class:"navbar-brand text-secondary",to:"/"},{default:Object(c["withCtx"])((function(){return[u]})),_:1}),b,Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("div",p,[v,Object(c["createVNode"])(ge,{class:"nav-link pe-4",to:"/menu"},{default:Object(c["withCtx"])((function(){return[j]})),_:1}),Object(c["createVNode"])(ge,{class:"nav-link pe-4",to:"/about"},{default:Object(c["withCtx"])((function(){return[f]})),_:1}),Object(c["createVNode"])(ge,{class:"nav-link pe-4",to:"/blog"},{default:Object(c["withCtx"])((function(){return[O]})),_:1}),Object(c["createElementVNode"])("div",g,[Object(c["createElementVNode"])("a",{href:"#",id:"nav-cart-btn",class:"nav-link nav-link-cart","data-bs-toggle":"offcanvas","data-bs-target":"#cartBoxId","aria-controls":"cartBoxId",onClick:t[0]||(t[0]=Object(c["withModifiers"])((function(){return s.getCart&&s.getCart.apply(s,arguments)}),["prevent"]))},[h,null!==(l=o.cart)&&void 0!==l&&null!==(F=l.carts)&&void 0!==F&&F.length?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",N,Object(c["toDisplayString"])(null===(H=o.cart)||void 0===H||null===(R=H.carts)||void 0===R?void 0:R.length),1)):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",V,[E,Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["offcanvas-body d-flex flex-column",{"d-flex justify-content-center":!(null!==(ae=o.cart)&&void 0!==ae&&null!==(me=ae.carts)&&void 0!==me&&me.length)}])},[null!==(pe=o.cart)&&void 0!==pe&&null!==(ve=pe.carts)&&void 0!==ve&&ve.length?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",x,[y,Object(c["createVNode"])(ge,{to:"/menu"},{default:Object(c["withCtx"])((function(){return[k]})),_:1})])),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.cart.carts,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("ul",{class:"list-unstyled",key:e.id},[Object(c["createElementVNode"])("li",C,[Object(c["createElementVNode"])("div",w,[Object(c["createElementVNode"])("a",{href:"#","data-bs-dismiss":"offcanvas",onClick:Object(c["withModifiers"])((function(t){return s.viewProduct(e.product_id)}),["prevent"])},[Object(c["createElementVNode"])("img",{src:e.product.imageUrl,alt:""},null,8,B)],8,S)]),Object(c["createElementVNode"])("div",T,[Object(c["createElementVNode"])("h6",I,[Object(c["createElementVNode"])("a",{class:"text-dark",href:"#","data-bs-dismiss":"offcanvas",onClick:Object(c["withModifiers"])((function(t){return s.viewProduct(e.product_id)}),["prevent"])},Object(c["toDisplayString"])(e.product.title),9,L)]),Object(c["createElementVNode"])("div",M,[Object(c["createElementVNode"])("small",$,"$ "+Object(c["toDisplayString"])(e.product.price)+" / ",1),Object(c["createElementVNode"])("small",_,Object(c["toDisplayString"])(e.product.unit),1)]),Object(c["createElementVNode"])("div",q,[Object(c["createElementVNode"])("div",D,[Object(c["createElementVNode"])("div",A,[Object(c["createElementVNode"])("button",{class:"btn btn-outline-secondary border-0 rounded-0 py-2 px-1 border-end",type:"button",disabled:1===e.qty||o.loadingStatus.loadingItem===e.id,onClick:function(t){return s.updateCart(e,-1)}},P,8,z)]),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none px-1 bg-light fs-6 text-secondary",placeholder:"","onUpdate:modelValue":function(t){return e.qty=t},disabled:""},null,8,U),[[c["vModelText"],e.qty,void 0,{number:!0}]]),Object(c["createElementVNode"])("div",J,[Object(c["createElementVNode"])("button",{class:"btn btn-outline-secondary border-0 rounded-0 py-2 px-1 border-start",type:"button",disabled:o.loadingStatus.loadingItem===e.id,onClick:function(t){return s.updateCart(e,1)}},K,8,G)])]),Object(c["createElementVNode"])("div",null,[o.loadingStatus.loadingItem===e.id?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Q,W)):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("small",X,[Y,Z,Object(c["createTextVNode"])(" NT$ "+Object(c["toDisplayString"])(e.total),1)])])])]),Object(c["createElementVNode"])("div",ee,[Object(c["createElementVNode"])("button",{type:"button",class:"close",onClick:function(t){return s.removeCartItem(e.id)}},ce,8,te)])])])})),128))],2),null!==(je=o.cart)&&void 0!==je&&null!==(fe=je.carts)&&void 0!==fe&&fe.length?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ne,[Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("p",oe,[se,Object(c["createElementVNode"])("span",le,Object(c["toDisplayString"])(o.cart.total),1)])]),Object(c["createElementVNode"])("div",re,[Object(c["createElementVNode"])("div",ie,[Object(c["createElementVNode"])("button",{class:"remove-cart discolor-button w-100",type:"button","data-bs-dismiss":"offcanvas",onClick:t[1]||(t[1]=function(e){return s.removeCartAll("all")})}," 清空購物車 ")]),Object(c["createElementVNode"])("div",de,[Object(c["createVNode"])(ge,{to:"/order"},{default:Object(c["withCtx"])((function(){return[ue]})),_:1})])])])):Object(c["createCommentVNode"])("",!0)])])])])]),Object(c["createElementVNode"])("div",be,[Object(c["createElementVNode"])("div",{class:"overlay-inner",onClick:t[2]||(t[2]=function(){return e.closeNav&&e.closeNav.apply(e,arguments)})})])])],64)}a("99af");var pe={data:function(){return{toggler:!1,cart:{},loadingStatus:{loadingItem:""},isLoading:!1,pageName:"",tips:{data:{success:!1,message:"糟糕，目前沒有可以更新的商品喔。"}}}},inject:["emitter","$httpMessageState"],methods:{getCart:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/cart");this.$http.get(t).then((function(t){t.data.success&&(e.cart=t.data.data)})).catch((function(){e.setTips(!1,"無法取得商品。"),e.$httpMessageState(e.tips,"取得商品清單")}))},updateCart:function(e,t){var a=this;this.loadingStatus.loadingItem=e.id;var c=e.qty+t;if(c>=1){var n={product_id:e.product.id,qty:c},o="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/cart/").concat(e.id);this.$http.put(o,{data:n}).then((function(e){e.data.success||a.$httpMessageState(a.tips,"商品清單"),a.loadingStatus.loadingItem="",a.getCart()})).catch((function(){a.loadingStatus.loadingItem="",a.setTips(!1,"無法取得商品。"),a.$httpMessageState(a.tips,"商品清單更新")}))}},removeCartItem:function(e){var t=this;this.loadingStatus.loadingItem=e;var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/cart/").concat(e);this.$http.delete(a).then((function(e){e.data.success&&(t.getCart(),t.loadingStatus.loadingItem="")})).catch((function(){t.loadingStatus.loadingItem="",t.setTips(!1,"糟糕，無法刪除商品清單。"),t.$httpMessageState(t.tips,"商品清單刪除")}))},removeCartAll:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/carts");this.$http.delete(t).then((function(t){t.data.success?e.getCart():alert(t.data.message)})).catch((function(){e.setTips(!1,"糟糕，無法刪除商品清單。"),e.$httpMessageState(e.tips,"商品清單刪除")}))},viewProduct:function(e){this.$router.push("/product/".concat(e))}},mounted:function(){var e=this;this.getCart(),this.emitter.on("get-cart",(function(){e.getCart()}))},unmounted:function(){var e=this;this.emitter.off("get-cart",(function(){e.getCart()}))}},ve=(a("693c"),a("d959")),je=a.n(ve);const fe=je()(pe,[["render",me]]);var Oe=fe,ge=a("f367"),he={components:{Navbar:Oe,ToastMessages:ge["a"]},inject:["emitter"],data:function(){return{isLoading:!1}},methods:{changeLoadingStatus:function(e){this.isLoading=e}},mounted:function(){var e=this;this.emitter.on("change-isLoading",(function(t){e.changeLoadingStatus(t)}))},unmounted:function(){var e=this;this.emitter.off("change-isLoading",(function(t){e.changeLoadingStatus(t)}))}};const Ne=je()(he,[["render",o]]);t["default"]=Ne}}]);
//# sourceMappingURL=chunk-5cf0d452.cd972ea8.js.map