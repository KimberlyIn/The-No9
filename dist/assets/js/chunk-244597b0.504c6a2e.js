(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-244597b0"],{"41cf":function(e,t,n){e.exports=n.p+"assets/img/logo.eb050ee8.gif"},a55b:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),c=n("41cf"),s=n.n(c),a={class:"container vh-100"},r=Object(o["createElementVNode"])("img",{src:s.a,alt:"TheNo9-LOGO",style:{width:"160px"},class:"me-3"},null,-1),i={class:"col-md-5"},l=Object(o["createElementVNode"])("div",{class:"h3 mb-4 text-center"},"請先登入",-1),d={class:"mb-3"},u=Object(o["createElementVNode"])("label",{for:"floatingInputInvalid"},"Email address",-1),m={class:"mb-4"},p=Object(o["createElementVNode"])("label",{for:"floatingInputInvalid2"},"Password",-1),h=Object(o["createElementVNode"])("div",{class:"text-center"},[Object(o["createElementVNode"])("button",{type:"submit",class:"w-50 btn btn-secondary"},"登入")],-1),b={class:"d-flex justify-content-center w-100"};function f(e,t,n,c,s,f){var j=Object(o["resolveComponent"])("ToastMessages"),v=Object(o["resolveComponent"])("router-link"),g=Object(o["resolveComponent"])("Alert");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(j),Object(o["createElementVNode"])("div",a,[Object(o["createVNode"])(v,{class:"navbar-brand text-secondary",to:"/"},{default:Object(o["withCtx"])((function(){return[r]})),_:1}),Object(o["createElementVNode"])("form",{class:"form-floating row h-100 align-items-center justify-content-center",onSubmit:t[2]||(t[2]=Object(o["withModifiers"])((function(){return f.login&&f.login.apply(f,arguments)}),["prevent"]))},[Object(o["createElementVNode"])("div",i,[l,Object(o["createElementVNode"])("div",d,[u,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"email",class:"form-control",id:"floatingInputInvalid",placeholder:"name@example.com","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.user.username=e}),required:"",autofocus:""},null,512),[[o["vModelText"],s.user.username]])]),Object(o["createElementVNode"])("div",m,[p,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"password",class:"form-control",id:"floatingInputInvalid2",placeholder:"請輸入密碼","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.user.password=e}),required:""},null,512),[[o["vModelText"],s.user.password]])]),h])],32)])]),Object(o["createElementVNode"])("div",b,[s.isShowAlert?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:0,customClass:s.alertClass,content:s.alertMsg},null,8,["customClass","content"])):Object(o["createCommentVNode"])("",!0)])],64)}n("99af"),n("ac1f"),n("5319");var j=n("37ca"),v=n("f367"),g={data:function(){return{isLoading:!1,isShowAlert:!1,alertMsg:"",alertClass:"alert-success",user:{},tips:{data:{success:!1,message:"登入失敗，請重新登入。"}}}},components:{ToastMessages:v["a"]},provide:function(){return{emitter:j["a"]}},inject:["$httpMessageState"],methods:{login:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/admin/signin");this.isLoading=!0,this.$http.post(t,this.user).then((function(t){var n=t.data,o=n.token,c=n.expired;document.cookie="hexToken=".concat(o,";expires=").concat(new Date(c),";"),e.isLoading=!1,e.$router.push("/admin")})).catch((function(){e.isLoading=!1,e.$httpMessageState(e.tips,"登入")}))},checkLogin:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/user/check");this.$http.post(t).then((function(t){t.data.success&&(e.isShowAlert=!0,e.alertClass="alert-warning",e.alertMsg="你已登入! 即將轉頁至後台",setTimeout((function(){e.$router.push("/admin")}),1500))})).catch((function(){e.$httpMessageState(e.tips,"登入")}))}},created:function(){var e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e,this.checkLogin()}},O=n("d959"),w=n.n(O);const V=w()(g,[["render",f]]);t["default"]=V}}]);
//# sourceMappingURL=chunk-244597b0.504c6a2e.js.map