(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-244597b0"],{"41cf":function(e,t,n){e.exports=n.p+"assets/img/logo.eb050ee8.gif"},a55b:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),o=n("41cf"),s=n.n(o),a={class:"login",style:{"background-color":"rgb(236, 236, 236)"}},r={class:"container vh-100"},i={class:"col-md-5"},l={class:"d-flex justify-content-center mb-3"},d=Object(c["createElementVNode"])("img",{src:s.a,alt:"TheNo9-LOGO",style:{width:"160px"}},null,-1),u=Object(c["createElementVNode"])("div",{class:"h3 mb-4 text-center"},"請先登入",-1),m={class:"mb-3"},p=Object(c["createElementVNode"])("label",{for:"floatingInputInvalid"},"Email address",-1),b={class:"mb-4"},h=Object(c["createElementVNode"])("label",{for:"floatingInputInvalid2"},"Password",-1),f=Object(c["createElementVNode"])("div",{class:"text-center"},[Object(c["createElementVNode"])("button",{type:"submit",class:"w-50 btn btn-secondary"},"登入")],-1),g={class:"d-flex justify-content-center w-100"};function j(e,t,n,o,s,j){var v=Object(c["resolveComponent"])("ToastMessages"),O=Object(c["resolveComponent"])("router-link"),w=Object(c["resolveComponent"])("Alert");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",a,[Object(c["createVNode"])(v),Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("form",{class:"form-floating row h-100 align-items-center justify-content-center",onSubmit:t[2]||(t[2]=Object(c["withModifiers"])((function(){return j.login&&j.login.apply(j,arguments)}),["prevent"]))},[Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",l,[Object(c["createVNode"])(O,{class:"navbar-brand text-secondary",to:"/"},{default:Object(c["withCtx"])((function(){return[d]})),_:1})]),u,Object(c["createElementVNode"])("div",m,[p,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"email",class:"form-control",id:"floatingInputInvalid",placeholder:"name@example.com","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.user.username=e}),required:"",autofocus:""},null,512),[[c["vModelText"],s.user.username]])]),Object(c["createElementVNode"])("div",b,[h,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"password",class:"form-control",id:"floatingInputInvalid2",placeholder:"請輸入密碼","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.user.password=e}),required:""},null,512),[[c["vModelText"],s.user.password]])]),f])],32)])]),Object(c["createElementVNode"])("div",g,[s.isShowAlert?(Object(c["openBlock"])(),Object(c["createBlock"])(w,{key:0,customClass:s.alertClass,content:s.alertMsg},null,8,["customClass","content"])):Object(c["createCommentVNode"])("",!0)])],64)}n("99af"),n("ac1f"),n("5319");var v=n("37ca"),O=n("f367"),w={data:function(){return{isLoading:!1,isShowAlert:!1,alertMsg:"",alertClass:"alert-success",user:{},tips:{data:{success:!1,message:"登入失敗，請重新登入。"}}}},components:{ToastMessages:O["a"]},provide:function(){return{emitter:v["a"]}},inject:["$httpMessageState"],methods:{login:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/admin/signin");this.isLoading=!0,this.$http.post(t,this.user).then((function(t){var n=t.data,c=n.token,o=n.expired;document.cookie="hexToken=".concat(c,";expires=").concat(new Date(o),";"),e.isLoading=!1,e.$router.push("/admin")})).catch((function(){e.isLoading=!1,e.$httpMessageState(e.tips,"登入")}))},checkLogin:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/user/check");this.$http.post(t).then((function(t){t.data.success&&(e.isShowAlert=!0,e.alertClass="alert-warning",e.alertMsg="你已登入! 即將轉頁至後台",setTimeout((function(){e.$router.push("/admin")}),1500))})).catch((function(){e.$httpMessageState(e.tips,"登入")}))}},created:function(){var e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e,this.checkLogin()}},V=n("d959"),N=n.n(V);const k=N()(w,[["render",j]]);t["default"]=k}}]);
//# sourceMappingURL=chunk-244597b0.72907f1c.js.map