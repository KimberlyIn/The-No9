(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d3e04c0"],{"41cf":function(t,e,a){t.exports=a.p+"assets/img/logo.eb050ee8.gif"},a429:function(t,e,a){},da96:function(t,e,a){"use strict";a("a429")},de8a:function(t,e,a){"use strict";a.r(e);var c=a("7a23"),n={class:"main-container"};function s(t,e,a,s,i,o){var l=Object(c["J"])("Loading"),d=Object(c["J"])("ToastMessages"),r=Object(c["J"])("Navbar"),b=Object(c["J"])("router-view");return Object(c["B"])(),Object(c["g"])(c["a"],null,[Object(c["k"])(l,{active:i.isLoading,"z-index":1070},null,8,["active"]),Object(c["k"])(d),Object(c["k"])(r),Object(c["h"])("div",n,[Object(c["k"])(b)])],64)}var i=a("41cf"),o=a.n(i),l={class:"fixed-top"},d={class:"navbar navbar-expand-lg navbar-light py-4 px-4"},r={class:"container-fluid"},b=Object(c["h"])("img",{src:o.a,alt:"TheNo9-LOGO",style:{width:"160px"},class:"me-3"},null,-1),u=Object(c["h"])("button",{class:"navbarBtn navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(c["h"])("span",{class:"navbar-toggler-icon"})],-1),h={class:"collapse navbar-collapse justify-content-end",id:"navbarNavAltMarkup"},p={class:"navbar-nav"},j=Object(c["h"])("a",{class:"nav-link pe-4","aria-current":"page",href:"#"},"首頁",-1),v=Object(c["j"])("精緻皮件"),f=Object(c["j"])("關於我們"),O=Object(c["j"])("部落格"),g=Object(c["i"])('<a class="nav-link" data-bs-toggle="modal" data-bs-target="#exampleModal"><i class="bi bi-search"></i></a><div class="modal fade modal-search" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"> ... </div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button><button type="button" class="btn btn-primary">Save changes</button></div></div></div></div>',2),m={class:"d-flex me-3 fun-bar"},x=Object(c["h"])("i",{class:"bi bi-cart pe-1"},null,-1),y={key:0,class:"cart-quantity"},k={class:"cartBox offcanvas offcanvas-end offcanvas-size",tabindex:"-1",id:"cartBoxId"},C=Object(c["h"])("div",{class:"offcanvas-header px-4"},[Object(c["h"])("h5",{class:"offcanvas-title title"},"訂單清單"),Object(c["h"])("button",{type:"button",class:"close text-reset","data-bs-dismiss":"offcanvas"},[Object(c["h"])("i",{class:"bi bi-x"})])],-1),M={key:0,class:"d-flex flex-column justify-content-center text-center"},S=Object(c["h"])("h5",{class:"pb-2 lh-base fs-5 text text-explain"},"您的購物車還沒有商品喔，要開始替自己添加精美皮件了嗎？",-1),w=Object(c["h"])("button",{class:"discolor-button",type:"button","data-bs-dismiss":"offcanvas"}," 開始購物 ",-1),I={class:"py-3 d-flex justify-content-between border-bottom"},L={class:"cartBox-img"},B=["onClick"],$=["src"],T={class:"cart-product align-self-start flex-fill ps-3"},N={class:"fw-bold"},_=["onClick"],J={class:"qty-price d-flex pe-3"},V={class:"price text-secondary"},q={class:"unit ps-1"},A={class:"d-flex align-items-center"},P={class:"nav-input input-group bg-light rounded me-3 mt-2 border"},U={class:"input-group-prepend"},X=["disabled","onClick"],z=Object(c["h"])("i",{class:"bi bi-dash"},null,-1),G=[z],H=["onUpdate:modelValue"],Q={class:"input-group-append"},W=["disabled","onClick"],D=Object(c["h"])("i",{class:"bi bi-plus"},null,-1),E=[D],F={key:0,class:"spinner-border spinner-border-sm text-muted me-2",role:"status"},K=Object(c["h"])("span",{class:"visually-hidden"},"Loading...",-1),R=[K],Y={class:"text-secondary"},Z=Object(c["j"])("小計： "),tt=Object(c["h"])("br",null,null,-1),et={class:"product-delete align-self-center"},at=["onClick"],ct=Object(c["h"])("i",{class:"bi bi-x"},null,-1),nt=[ct],st={key:0,class:"offcanvas-footer"},it={class:"price-text text-end px-4"},ot=Object(c["j"])(" 總 計： NT$ "),lt={class:"fs-5 fw-bold"},dt={class:"row py-3"},rt={class:"col-6 pe-1 ps-4 text-end"},bt={class:"col-6 col-6 ps-1 pe-4"},ut=Object(c["h"])("button",{class:"checkout discolor-button-light w-100",type:"button","data-bs-dismiss":"offcanvas"}," 結帳 ",-1);function ht(t,e,a,n,s,i){var o,z,D,K,ct,ht,pt,jt,vt,ft,Ot=Object(c["J"])("Loading"),gt=Object(c["J"])("router-link");return Object(c["B"])(),Object(c["g"])(c["a"],null,[Object(c["k"])(Ot,{active:s.isLoading},null,8,["active"]),Object(c["h"])("div",l,[Object(c["h"])("nav",d,[Object(c["h"])("div",r,[Object(c["k"])(gt,{class:"navbar-brand text-secondary",to:"/"},{default:Object(c["V"])((function(){return[b]})),_:1}),u,Object(c["h"])("div",h,[Object(c["h"])("div",p,[j,Object(c["k"])(gt,{class:"nav-link pe-4",to:"/menu"},{default:Object(c["V"])((function(){return[v]})),_:1}),Object(c["k"])(gt,{class:"nav-link pe-4",to:"/about"},{default:Object(c["V"])((function(){return[f]})),_:1}),Object(c["k"])(gt,{class:"nav-link pe-4",to:"/blog"},{default:Object(c["V"])((function(){return[O]})),_:1}),g,Object(c["h"])("div",m,[Object(c["h"])("a",{href:"#",id:"nav-cart-btn",class:"nav-link nav-link-cart","data-bs-toggle":"offcanvas","data-bs-target":"#cartBoxId","aria-controls":"cartBoxId",onClick:e[0]||(e[0]=Object(c["X"])((function(){return i.getCart&&i.getCart.apply(i,arguments)}),["prevent"]))},[x,null!==(o=s.cart)&&void 0!==o&&null!==(z=o.carts)&&void 0!==z&&z.length?(Object(c["B"])(),Object(c["g"])("span",y,Object(c["M"])(null===(D=s.cart)||void 0===D||null===(K=D.carts)||void 0===K?void 0:K.length),1)):Object(c["f"])("",!0)])]),Object(c["h"])("div",k,[C,Object(c["h"])("div",{class:Object(c["s"])(["offcanvas-body d-flex flex-column",{"d-flex justify-content-center":!(null!==(ct=s.cart)&&void 0!==ct&&null!==(ht=ct.carts)&&void 0!==ht&&ht.length)}])},[null!==(pt=s.cart)&&void 0!==pt&&null!==(jt=pt.carts)&&void 0!==jt&&jt.length?Object(c["f"])("",!0):(Object(c["B"])(),Object(c["g"])("div",M,[S,Object(c["k"])(gt,{to:"/menu"},{default:Object(c["V"])((function(){return[w]})),_:1})])),(Object(c["B"])(!0),Object(c["g"])(c["a"],null,Object(c["H"])(s.cart.carts,(function(t){return Object(c["B"])(),Object(c["g"])("ul",{class:"list-unstyled",key:t.id},[Object(c["h"])("li",I,[Object(c["h"])("div",L,[Object(c["h"])("a",{href:"#","data-bs-dismiss":"offcanvas",onClick:Object(c["X"])((function(e){return i.viewProduct(t.product_id)}),["prevent"])},[Object(c["h"])("img",{src:t.product.imageUrl,alt:""},null,8,$)],8,B)]),Object(c["h"])("div",T,[Object(c["h"])("h6",N,[Object(c["h"])("a",{class:"text-dark",href:"#","data-bs-dismiss":"offcanvas",onClick:Object(c["X"])((function(e){return i.viewProduct(t.product_id)}),["prevent"])},Object(c["M"])(t.product.title),9,_)]),Object(c["h"])("div",J,[Object(c["h"])("small",V,"$ "+Object(c["M"])(t.product.price)+" / ",1),Object(c["h"])("small",q,Object(c["M"])(t.product.unit),1)]),Object(c["h"])("div",A,[Object(c["h"])("div",P,[Object(c["h"])("div",U,[Object(c["h"])("button",{class:"btn btn-outline-secondary border-0 rounded-0 py-2 px-1 border-end",type:"button",disabled:1===t.qty||s.loadingStatus.loadingItem===t.id,onClick:function(e){return i.updateCart(t,-1)}},G,8,X)]),Object(c["W"])(Object(c["h"])("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none px-1 bg-light fs-6 text-secondary",placeholder:"","onUpdate:modelValue":function(e){return t.qty=e},disabled:""},null,8,H),[[c["Q"],t.qty,void 0,{number:!0}]]),Object(c["h"])("div",Q,[Object(c["h"])("button",{class:"btn btn-outline-secondary border-0 rounded-0 py-2 px-1 border-start",type:"button",disabled:s.loadingStatus.loadingItem===t.id,onClick:function(e){return i.updateCart(t,1)}},E,8,W)])]),Object(c["h"])("div",null,[s.loadingStatus.loadingItem===t.id?(Object(c["B"])(),Object(c["g"])("div",F,R)):Object(c["f"])("",!0),Object(c["h"])("small",Y,[Z,tt,Object(c["j"])(" NT$ "+Object(c["M"])(t.total),1)])])])]),Object(c["h"])("div",et,[Object(c["h"])("button",{type:"button",class:"close",onClick:function(e){return i.removeCartItem(t.id)}},nt,8,at)])])])})),128))],2),null!==(vt=s.cart)&&void 0!==vt&&null!==(ft=vt.carts)&&void 0!==ft&&ft.length?(Object(c["B"])(),Object(c["g"])("div",st,[Object(c["h"])("div",null,[Object(c["h"])("p",it,[ot,Object(c["h"])("span",lt,Object(c["M"])(s.cart.total),1)])]),Object(c["h"])("div",dt,[Object(c["h"])("div",rt,[Object(c["h"])("button",{class:"remove-cart discolor-button w-100",type:"button","data-bs-dismiss":"offcanvas",onClick:e[1]||(e[1]=function(t){return i.removeCartAll("all")})}," 清空購物車 ")]),Object(c["h"])("div",bt,[Object(c["k"])(gt,{to:"/order"},{default:Object(c["V"])((function(){return[ut]})),_:1})])])])):Object(c["f"])("",!0)])])])])])])],64)}a("99af");var pt={data:function(){return{toggler:!1,cart:{},loadingStatus:{loadingItem:""},isLoading:!1,pageName:"",tips:{data:{success:!1,message:"糟糕，目前沒有可以更新的商品喔。"}}}},inject:["emitter","$httpMessageState"],methods:{getCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/cart");this.$http.get(e).then((function(e){e.data.success&&(t.cart=e.data.data)})).catch((function(){t.setTips(!1,"無法取得商品。"),t.$httpMessageState(t.tips,"取得商品清單")}))},updateCart:function(t,e){var a=this;this.loadingStatus.loadingItem=t.id;var c=t.qty+e;if(c>=1){var n={product_id:t.product.id,qty:c},s="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/cart/").concat(t.id);this.$http.put(s,{data:n}).then((function(t){t.data.success||a.$httpMessageState(a.tips,"商品清單"),a.loadingStatus.loadingItem="",a.getCart()})).catch((function(){a.loadingStatus.loadingItem="",a.setTips(!1,"無法取得商品。"),a.$httpMessageState(a.tips,"商品清單更新")}))}},removeCartItem:function(t){var e=this;this.loadingStatus.loadingItem=t;var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/cart/").concat(t);this.$http.delete(a).then((function(t){t.data.success&&(e.getCart(),e.loadingStatus.loadingItem="")})).catch((function(){e.loadingStatus.loadingItem="",e.setTips(!1,"糟糕，無法刪除商品清單。"),e.$httpMessageState(e.tips,"商品清單刪除")}))},removeCartAll:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/carts");this.$http.delete(e).then((function(e){e.data.success?t.getCart():alert(e.data.message)})).catch((function(){t.setTips(!1,"糟糕，無法刪除商品清單。"),t.$httpMessageState(t.tips,"商品清單刪除")}))},viewProduct:function(t){this.$router.push("/product/".concat(t))}},mounted:function(){var t=this;this.getCart(),this.emitter.on("get-cart",(function(){t.getCart()}))},unmounted:function(){var t=this;this.emitter.off("get-cart",(function(){t.getCart()}))}},jt=(a("da96"),a("d959")),vt=a.n(jt);const ft=vt()(pt,[["render",ht]]);var Ot=ft,gt=a("f367"),mt={components:{Navbar:Ot,ToastMessages:gt["a"]},inject:["emitter"],data:function(){return{isLoading:!1}},methods:{changeLoadingStatus:function(t){this.isLoading=t}},mounted:function(){var t=this;this.emitter.on("change-isLoading",(function(e){t.changeLoadingStatus(e)}))},unmounted:function(){var t=this;this.emitter.off("change-isLoading",(function(e){t.changeLoadingStatus(e)}))}};const xt=vt()(mt,[["render",s]]);e["default"]=xt}}]);
//# sourceMappingURL=chunk-6d3e04c0.f5cf07be.js.map