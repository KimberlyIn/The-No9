(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c3cf386"],{"0a2f":function(t,e,c){"use strict";c.r(e);c("b0c0");var a=c("7a23"),s={key:0,class:"order-cart div-front-top"},l=Object(a["h"])("div",{class:"header w-100 py-5"},null,-1),n={class:"order-header py-5"},r={class:"d-flex justify-content-center align-items-center"},i={class:"nav-item"},o=Object(a["h"])("i",{class:"bi bi-bag-check"},null,-1),b=Object(a["h"])("p",null,"購物車確認",-1),d=[o,b],u=Object(a["h"])("li",{class:"nav-item line"},[Object(a["h"])("hr")],-1),h={class:"nav-item"},O=Object(a["h"])("i",{class:"bi bi-list-ul"},null,-1),j=Object(a["h"])("p",null,"建立訂單",-1),p=[O,j],m=Object(a["h"])("li",{class:"nav-item line"},[Object(a["h"])("hr")],-1),f={class:"nav-item"},v=Object(a["h"])("i",{class:"bi bi-credit-card-fill"},null,-1),g=Object(a["h"])("p",null,"確認及付款",-1),y=[v,g],k=Object(a["h"])("li",{class:"nav-item line"},[Object(a["h"])("hr")],-1),x={class:"nav-item"},S=Object(a["h"])("i",{class:"bi bi-check-circle-fill"},null,-1),C=Object(a["h"])("p",null,"訂單完成",-1),w=[S,C],V={class:"container"},M={class:"order-body py-4"},P={key:0,class:"check-cart"},$={class:"table desktop-check-cart align-middle border"},q=Object(a["h"])("thead",{class:"border"},[Object(a["h"])("tr",null,[Object(a["h"])("th"),Object(a["h"])("th",null,"商品"),Object(a["h"])("th"),Object(a["h"])("th",null,"價格"),Object(a["h"])("th",null,"數量"),Object(a["h"])("th",null,"總價格")])],-1),B={class:"text-center",width:"200"},I=["onClick"],U=Object(a["h"])("i",{class:"bi bi-x"},null,-1),T=[U],D={width:"100",class:"mx-5"},_={class:"px-5"},N={class:"hover-black-a",href:"#"},R={width:"100"},E={class:"text-explain fw-normal"},J={width:"150"},A={class:"d-flex align-items-center"},L={class:"d-flex my-3 me-5"},H=["onUpdate:modelValue"],z={class:"input-group w-50 border"},F={class:"input-group-prepend border-bottom px-1"},Q=["disabled","onClick"],W=Object(a["h"])("i",{class:"bi bi-dash"},null,-1),X=[W],G={class:"input-group-append px-1"},K=["disabled","onClick"],Y=Object(a["h"])("i",{class:"bi bi-plus"},null,-1),Z=[Y],tt={width:"200"},et={class:"text-explain fw-normal"},ct={class:"mobile-check-cart py-3"},at={class:"py-3 d-flex justify-content-between"},st={class:"product-delete pe-4 align-self-center"},lt=["onClick"],nt=Object(a["h"])("i",{class:"bi bi-x"},null,-1),rt=[nt],it={class:"cartBox-img"},ot=["onClick"],bt=["src"],dt={class:"cart-product align-self-start flex-fill ps-3"},ut={class:"fw-bold"},ht=["onClick"],Ot={class:"qty-price d-flex pe-3"},jt={class:"price text-secondary"},pt={class:"unit ps-1"},mt={class:"d-flex align-items-center justify-content-between"},ft={class:"nav-input input-group bg-light rounded me-3 mt-2 border"},vt={class:"input-group-prepend"},gt=["disabled","onClick"],yt=Object(a["h"])("i",{class:"bi bi-dash"},null,-1),kt=[yt],xt=["onUpdate:modelValue"],St={class:"input-group-append"},Ct=["disabled","onClick"],wt=Object(a["h"])("i",{class:"bi bi-plus"},null,-1),Vt=[wt],Mt={key:0,class:"spinner-border spinner-border-sm text-muted me-2",role:"status"},Pt=Object(a["h"])("span",{class:"visually-hidden"},"Loading...",-1),$t=[Pt],qt={class:"text-secondary"},Bt=Object(a["j"])("小計： "),It=Object(a["h"])("br",null,null,-1),Ut={class:"mt-5"},Tt=Object(a["h"])("span",null,[Object(a["h"])("i",{class:"bi bi-arrow-right-circle-fill"}),Object(a["j"])(" 周年慶期間消費贈送的優惠券碼，可享有85折優惠！ ")],-1),Dt={class:"coupon-item mt-2 d-flex justify-content-between"},_t={class:"col-6"},Nt={class:"input-group mb-3"},Rt=["disabled"],Et={key:0},Jt=Object(a["j"])(" 已套用優惠券 "),At=Object(a["h"])("i",{class:"bi bi-check-circle-fill"},null,-1),Lt=[Jt,At],Ht={key:1},zt={class:"remove-cart"},Ft={class:"totle border my-5"},Qt={class:"mb-0 py-4 px-5"},Wt=Object(a["j"])("總計 "),Xt={class:"float-end fw-bold"},Gt={class:"mb-5 text-end"},Kt={key:1,class:"create-order"},Yt={class:"col-md-6"},Zt=Object(a["h"])("label",{for:"inputName",class:"form-label"},[Object(a["h"])("span",{class:"text-danger"},"*"),Object(a["j"])(" 姓名 ")],-1),te={class:"col-md-6"},ee=Object(a["h"])("label",{for:"inputEmail",class:"form-label"},[Object(a["h"])("span",{class:"text-danger"},"*"),Object(a["j"])(" 信箱 ")],-1),ce={class:"col-6"},ae=Object(a["h"])("label",{for:"phone",class:"form-label"},[Object(a["h"])("span",{class:"text-danger"},"*"),Object(a["j"])(" 電話 ")],-1),se={class:"col-6"},le=Object(a["h"])("label",{for:"inputPayment",class:"form-label"},[Object(a["h"])("span",{class:"text-danger"},"*"),Object(a["j"])(" 付款方式 ")],-1),ne=Object(a["h"])("option",{value:"",disabled:""},"請選擇付款方式",-1),re=Object(a["h"])("option",{value:"現金"},"現金",-1),ie=Object(a["h"])("option",{value:"信用卡"},"信用卡",-1),oe={class:"col-12"},be=Object(a["h"])("label",{for:"inputAddress",class:"form-label"},[Object(a["h"])("span",{class:"text-danger"},"*"),Object(a["j"])(" 地址 ")],-1),de={class:"col-12"},ue=Object(a["h"])("label",{for:"inputMessage",class:"form-label"}," 備註 ",-1),he={class:"mt-5"},Oe={class:"float-start"},je=Object(a["h"])("div",{class:"float-end"},[Object(a["h"])("button",{type:"submit",class:"discolor-button-light"}," 下一步 ")],-1),pe={key:2,class:"check-order py-5"},me={class:"check-order-list mx-auto"},fe={class:"row"},ve={class:"col-6"},ge=Object(a["h"])("label",{for:"inputName",class:"form-label"},"姓名",-1),ye={class:"col-6"},ke=Object(a["h"])("label",{for:"phone",class:"form-label"},"電話",-1),xe={class:"col-6 mobile-email"},Se=Object(a["h"])("label",{for:"inputEmail",class:"form-label"},"信箱",-1),Ce={class:"col-6 mobile-pay"},we=Object(a["h"])("label",{for:"inputPayment",class:"form-label"},"付款方式",-1),Ve={class:"col-12"},Me=Object(a["h"])("label",{for:"inputAddress",class:"form-label"},"地址",-1),Pe={class:"col-12"},$e=Object(a["h"])("label",{for:"inputMessage",class:"form-label"},"備註",-1),qe={class:"order-details mx-auto"},Be=Object(a["h"])("h4",null,"商品明細",-1),Ie={class:"px-4 border"},Ue={class:"table align-middle"},Te={width:"120",class:"py-4 pe-3 ps-0"},De={class:"product-title"},_e={class:"price-total text-color-9c"},Ne=Object(a["h"])("td",{class:"ps-0"},[Object(a["h"])("div",null,"總計")],-1),Re={class:"pe-0"},Ee={class:"text-end text-color-9c"},Je=Object(a["h"])("td",{class:"ps-0"},[Object(a["h"])("div",null,"折扣後")],-1),Ae={class:"pe-0"},Le={class:"text-end text-color-9c"},He={class:"my-5"},ze={class:"float-start"},Fe={class:"float-end"},Qe={key:3,class:"order-received mt-3"},We={class:"row flex-column align-items-center text-center"},Xe={class:"col-4 mb-5"},Ge=Object(a["h"])("p",{class:"mb-3"},"訂單已成立，我們將盡快為您安排出貨，謝謝。",-1),Ke={class:"mb-1"},Ye=Object(a["j"])("訂單編號 : "),Ze={class:"text-color-9c"},tc={class:"mb-1"},ec=Object(a["j"])("訂單日期 : "),cc={class:"text-color-9c"},ac={class:"col-4"},sc=Object(a["h"])("button",{type:"submit",class:"discolor-button-light"}," 返回首頁 ",-1);function lc(t,e,c,o,b,O){var j=Object(a["J"])("Field"),v=Object(a["J"])("Form"),g=Object(a["J"])("ErrorMessage"),S=Object(a["J"])("router-link");return b.cart.carts?(Object(a["B"])(),Object(a["g"])("div",s,[l,Object(a["h"])("div",null,[Object(a["h"])("div",n,[Object(a["h"])("ul",r,[Object(a["h"])("li",i,[Object(a["h"])("div",{class:Object(a["s"])(["nav-link",{active:b.stepStatus.checkCart}])},d,2)]),u,Object(a["h"])("li",h,[Object(a["h"])("div",{class:Object(a["s"])(["nav-link",{active:b.stepStatus.createOrder&&!b.stepStatus.checkCart,disabled:!b.stepStatus.createOrder&&!b.stepStatus.checkOrder&&!b.stepStatus.orderReceived}])},p,2)]),m,Object(a["h"])("li",f,[Object(a["h"])("div",{class:Object(a["s"])(["nav-link",{active:b.stepStatus.checkOrder&&!b.stepStatus.checkCart&&!b.stepStatus.createOrder,disabled:!b.stepStatus.checkOrder&&!b.stepStatus.checkOrder&&!b.stepStatus.orderReceived}])},y,2)]),k,Object(a["h"])("li",x,[Object(a["h"])("div",{class:Object(a["s"])(["nav-link",{active:b.stepStatus.orderReceived,disabled:!b.stepStatus.orderReceived}])},w,2)])])]),Object(a["h"])("div",null,[Object(a["h"])("div",V,[Object(a["h"])("div",M,[b.stepStatus.checkCart?(Object(a["B"])(),Object(a["g"])("div",P,[Object(a["h"])("table",$,[q,Object(a["h"])("tbody",null,[(Object(a["B"])(!0),Object(a["g"])(a["a"],null,Object(a["H"])(b.cart.carts,(function(t){return Object(a["B"])(),Object(a["g"])("tr",{class:"border-bottom",key:t.id},[Object(a["h"])("th",B,[Object(a["h"])("button",{type:"button",class:"close",onClick:function(e){return O.removeCartItem(t.id)}},T,8,I)]),Object(a["h"])("th",D,[Object(a["h"])("div",{style:Object(a["t"])([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(t.product.imageUrl,")")}])},null,4)]),Object(a["h"])("th",_,[Object(a["h"])("a",N,Object(a["M"])(t.product.title),1)]),Object(a["h"])("th",R,[Object(a["h"])("span",E,Object(a["M"])(t.product.price),1)]),Object(a["h"])("th",J,[Object(a["h"])("div",A,[Object(a["h"])("div",L,[Object(a["W"])(Object(a["h"])("input",{type:"text",class:"form-control text-center text-explain rounded-0 border-end-0",placeholder:"","onUpdate:modelValue":function(e){return t.qty=e}},null,8,H),[[a["Q"],t.qty,void 0,{number:!0}]]),Object(a["h"])("div",z,[Object(a["h"])("div",F,[Object(a["h"])("button",{type:"button",class:"btn",disabled:1===t.qty||b.loadingStatus.loadingItem===t.id,onClick:function(e){return O.updateCart(t,-1)}},X,8,Q)]),Object(a["h"])("div",G,[Object(a["h"])("button",{type:"button",class:"btn",disabled:b.loadingStatus.loadingItem===t.id,onClick:function(e){return O.updateCart(t,1)}},Z,8,K)])])])])]),Object(a["h"])("th",tt,[Object(a["h"])("span",et,Object(a["M"])(t.total),1)])])})),128))])]),Object(a["h"])("div",ct,[(Object(a["B"])(!0),Object(a["g"])(a["a"],null,Object(a["H"])(b.cart.carts,(function(t){return Object(a["B"])(),Object(a["g"])("ul",{class:"list-unstyled px-3 border",key:t.id},[Object(a["h"])("li",at,[Object(a["h"])("div",st,[Object(a["h"])("button",{type:"button",class:"close",onClick:function(e){return O.removeCartItem(t.id)}},rt,8,lt)]),Object(a["h"])("div",it,[Object(a["h"])("a",{href:"#","data-bs-dismiss":"offcanvas",onClick:Object(a["X"])((function(e){return O.viewProduct(t.product_id)}),["prevent"])},[Object(a["h"])("img",{src:t.product.imageUrl,alt:""},null,8,bt)],8,ot)]),Object(a["h"])("div",dt,[Object(a["h"])("h6",ut,[Object(a["h"])("a",{class:"text-dark",href:"#","data-bs-dismiss":"offcanvas",onClick:Object(a["X"])((function(e){return O.viewProduct(t.product_id)}),["prevent"])},Object(a["M"])(t.product.title),9,ht)]),Object(a["h"])("div",Ot,[Object(a["h"])("small",jt,"$ "+Object(a["M"])(t.product.price)+" / ",1),Object(a["h"])("small",pt,Object(a["M"])(t.product.unit),1)]),Object(a["h"])("div",mt,[Object(a["h"])("div",ft,[Object(a["h"])("div",vt,[Object(a["h"])("button",{class:"btn btn-outline-secondary border-0 rounded-0 py-2 px-1 border-end",type:"button",disabled:1===t.qty||b.loadingStatus.loadingItem===t.id,onClick:function(e){return O.updateCart(t,-1)}},kt,8,gt)]),Object(a["W"])(Object(a["h"])("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none px-1 bg-light fs-6 text-secondary",placeholder:"","onUpdate:modelValue":function(e){return t.qty=e},disabled:""},null,8,xt),[[a["Q"],t.qty,void 0,{number:!0}]]),Object(a["h"])("div",St,[Object(a["h"])("button",{class:"btn btn-outline-secondary border-0 rounded-0 py-2 px-1 border-start",type:"button",disabled:b.loadingStatus.loadingItem===t.id,onClick:function(e){return O.updateCart(t,1)}},Vt,8,Ct)])]),Object(a["h"])("div",null,[b.loadingStatus.loadingItem===t.id?(Object(a["B"])(),Object(a["g"])("div",Mt,$t)):Object(a["f"])("",!0),Object(a["h"])("small",qt,[Bt,It,Object(a["j"])(" NT$ "+Object(a["M"])(t.total),1)])])])])])])})),128))]),Object(a["h"])("div",null,[Object(a["h"])("div",null,[Object(a["h"])("div",Ut,[Tt,Object(a["h"])("div",Dt,[Object(a["h"])("div",_t,[Object(a["k"])(v,{onSubmit:O.onDiscount},{default:Object(a["V"])((function(t){var c,s,l=t.errors;return[Object(a["h"])("div",Nt,[Object(a["k"])(j,{id:"coupon",name:"優惠券",type:"text",class:Object(a["s"])(["form-control",{"is-invalid":l["優惠券"]}]),disabled:"coupon"===b.loadingStatus.loadingItem,placeholder:"請輸入優惠碼",modelValue:b.discountCode,"onUpdate:modelValue":e[0]||(e[0]=function(t){return b.discountCode=t})},null,8,["class","disabled","modelValue"]),Object(a["h"])("button",{class:"discolor-button",type:"submit",id:"button-coupon",disabled:!b.discountCode},[null!==(c=b.cart)&&void 0!==c&&null!==(s=c.carts[0])&&void 0!==s&&s.coupon?(Object(a["B"])(),Object(a["g"])("span",Et,Lt)):(Object(a["B"])(),Object(a["g"])("span",Ht,"套用優惠券"))],8,Rt)])]})),_:1},8,["onSubmit"])]),Object(a["h"])("div",zt,[Object(a["h"])("button",{type:"button",class:"discolor-button-light",onClick:e[1]||(e[1]=function(t){return O.removeCartAll("all")})}," 清空購物車 ")])])])])]),Object(a["h"])("div",Ft,[Object(a["h"])("p",Qt,[Wt,Object(a["h"])("span",Xt,"$NT "+Object(a["M"])(t.$filters.currency(b.cart.total)),1)])]),Object(a["h"])("div",Gt,[Object(a["h"])("button",{type:"submit",class:"discolor-button-light",onClick:e[2]||(e[2]=function(){return O.onSubmit&&O.onSubmit.apply(O,arguments)})}," 下一步 ")])])):Object(a["f"])("",!0),b.stepStatus.createOrder&&!b.stepStatus.checkCart?(Object(a["B"])(),Object(a["g"])("div",Kt,[Object(a["k"])(v,{class:"row g-3",onSubmit:O.onSubmit},{default:Object(a["V"])((function(t){var c=t.errors;return[Object(a["h"])("div",Yt,[Zt,Object(a["k"])(j,{id:"inputName",name:"姓名",type:"text",class:Object(a["s"])(["form-control",{"is-invalid":c["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:b.form.user.name,"onUpdate:modelValue":e[3]||(e[3]=function(t){return b.form.user.name=t})},null,8,["class","modelValue"]),Object(a["k"])(g,{name:"姓名",class:"invalid-feedback"})]),Object(a["h"])("div",te,[ee,Object(a["k"])(j,{id:"inputEmail",name:"信箱",type:"email",class:Object(a["s"])(["form-control",{"is-invalid":c["信箱"]}]),placeholder:"請輸入信箱",rules:"email|required",modelValue:b.form.user.email,"onUpdate:modelValue":e[4]||(e[4]=function(t){return b.form.user.email=t})},null,8,["class","modelValue"]),Object(a["k"])(g,{name:"信箱",class:"invalid-feedback"})]),Object(a["h"])("div",ce,[ae,Object(a["k"])(j,{id:"phone",name:"電話",type:"phone",class:Object(a["s"])(["form-control",{"is-invalid":c["電話"]}]),placeholder:"請輸入電話",rules:"required",modelValue:b.form.user.tel,"onUpdate:modelValue":e[5]||(e[5]=function(t){return b.form.user.tel=t})},null,8,["class","modelValue"]),Object(a["k"])(g,{name:"電話",class:"invalid-feedback"})]),Object(a["h"])("div",se,[le,Object(a["k"])(j,{id:"inputPayment",name:"付款方式",class:Object(a["s"])(["form-select",{"is-invalid":c["付款方式"]}]),placeholder:"請輸入付款方式",as:"select",rules:"required",modelValue:b.form.user.payment,"onUpdate:modelValue":e[6]||(e[6]=function(t){return b.form.user.payment=t})},{default:Object(a["V"])((function(){return[ne,re,ie]})),_:2},1032,["class","modelValue"]),Object(a["k"])(g,{name:"付款方式",class:"invalid-feedback"})]),Object(a["h"])("div",oe,[be,Object(a["k"])(j,{id:"inputAddress",name:"地址",type:"address",class:Object(a["s"])(["form-control",{"is-invalid":c["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:b.form.user.address,"onUpdate:modelValue":e[7]||(e[7]=function(t){return b.form.user.address=t})},null,8,["class","modelValue"]),Object(a["k"])(g,{name:"地址",class:"invalid-feedback"})]),Object(a["h"])("div",de,[ue,Object(a["k"])(j,{id:"inputMessage",name:"message",type:"text",class:Object(a["s"])(["form-control",{"is-invalid":c["message"]}]),placeholder:"請輸入備註",as:"textarea",modelValue:b.form.message,"onUpdate:modelValue":e[8]||(e[8]=function(t){return b.form.message=t})},null,8,["class","modelValue"]),Object(a["k"])(g,{name:"message",class:"invalid-feedback"})]),Object(a["h"])("div",he,[Object(a["h"])("div",Oe,[Object(a["h"])("button",{type:"submit",class:"discolor-button-light",onClick:e[9]||(e[9]=function(){return O.onPreStep&&O.onPreStep.apply(O,arguments)})}," 上一步 ")]),je])]})),_:1},8,["onSubmit"])])):Object(a["f"])("",!0),b.stepStatus.checkOrder&&!b.stepStatus.createOrder?(Object(a["B"])(),Object(a["g"])("div",pe,[Object(a["h"])("div",me,[Object(a["h"])("div",fe,[Object(a["h"])("div",ve,[ge,Object(a["h"])("p",null,Object(a["M"])(b.form.user.name),1)]),Object(a["h"])("div",ye,[ke,Object(a["h"])("p",null,Object(a["M"])(b.form.user.tel),1)]),Object(a["h"])("div",xe,[Se,Object(a["h"])("p",null,Object(a["M"])(b.form.user.email),1)]),Object(a["h"])("div",Ce,[we,Object(a["h"])("p",null,Object(a["M"])(b.form.user.payment),1)]),Object(a["h"])("div",Ve,[Me,Object(a["h"])("p",null,Object(a["M"])(b.form.user.address),1)]),Object(a["h"])("div",Pe,[$e,Object(a["h"])("p",null,Object(a["M"])(b.form.message),1)])])]),Object(a["h"])("div",qe,[Be,Object(a["h"])("div",Ie,[Object(a["h"])("table",Ue,[Object(a["h"])("tbody",null,[(Object(a["B"])(!0),Object(a["g"])(a["a"],null,Object(a["H"])(b.cart.carts,(function(t){return Object(a["B"])(),Object(a["g"])("tr",{class:"border-bottom",key:t.id},[Object(a["h"])("td",Te,[Object(a["h"])("div",{style:Object(a["t"])([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(t.product.imageUrl,")")}])},null,4)]),Object(a["h"])("td",null,[Object(a["h"])("div",De,Object(a["M"])(t.product.title)+" x "+Object(a["M"])(t.qty),1),Object(a["h"])("div",_e," NT$ "+Object(a["M"])(t.total),1)])])})),128)),Object(a["h"])("tr",null,[Ne,Object(a["h"])("td",Re,[Object(a["h"])("div",Ee,"NT$ "+Object(a["M"])(t.$filters.currency(b.cart.total)),1)])]),Object(a["h"])("tr",null,[Je,Object(a["h"])("td",Ae,[Object(a["h"])("div",Le,"NT$ "+Object(a["M"])(t.$filters.currency(b.cart.final_total)),1)])])])])])]),Object(a["h"])("div",He,[Object(a["h"])("div",ze,[Object(a["h"])("button",{type:"submit",class:"discolor-button-light",onClick:e[10]||(e[10]=function(){return O.onPreStep&&O.onPreStep.apply(O,arguments)})}," 上一步 ")]),Object(a["h"])("div",Fe,[Object(a["h"])("button",{type:"submit",class:"discolor-button-light",onClick:e[11]||(e[11]=function(){return O.onSendOrder&&O.onSendOrder.apply(O,arguments)})}," 確認付款 ")])])])):Object(a["f"])("",!0),b.stepStatus.orderReceived?(Object(a["B"])(),Object(a["g"])("div",Qe,[Object(a["h"])("div",We,[Object(a["h"])("div",Xe,[Ge,Object(a["h"])("p",Ke,[Ye,Object(a["h"])("span",Ze,Object(a["M"])(b.order.orderId),1)]),Object(a["h"])("p",tc,[ec,Object(a["h"])("span",cc,Object(a["M"])(b.order.create_at),1)])]),Object(a["h"])("div",ac,[Object(a["h"])("div",null,[Object(a["k"])(S,{to:"/"},{default:Object(a["V"])((function(){return[sc]})),_:1})])])])])):Object(a["f"])("",!0)])])])])])):Object(a["f"])("",!0)}var nc=c("5530"),rc=(c("99af"),{inject:["emitter","$httpMessageState"],data:function(){return{cart:{},loadingStatus:{loadingItem:""},stepStatus:{checkCart:!0,createOrder:!1,checkOrder:!1,orderReceived:!1},form:{user:{}},order:{},discountCode:""}},methods:{inTheCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/cart");this.emitter.emit("change-isLoading",!0),this.$http.get(e).then((function(e){t.emitter.emit("change-isLoading",!1),e.data.success?t.cart=e.data.data:alert(e.data.message)})).catch((function(t){alert(t.response.data.message)}))},updateCart:function(t,e){var c=this,a=t.qty+e;if(a>=1){var s={product_id:t.product.id,qty:a},l="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/cart/").concat(t.id);this.$http.put(l,{data:s}).then((function(t){t.data.success||alert(t.data.message),c.inTheCart()})).catch((function(t){alert(t.response.data.message)}))}},getDisCount:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/coupon"),a={code:t};this.emitter.emit("change-isLoading",!0),this.$http.post(c,{data:a}).then((function(t){e.emitter.emit("change-isLoading",!1),e.$httpMessageState(t,"套用優惠券"),t.data.success&&(e.inTheCart(),e.discountCode="")})).catch((function(){e.setTips(!1,"糟糕，無法套用此優惠券!"),e.$httpMessageState(e.tips,"套用優惠券")}))},removeCartItem:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/cart/").concat(t);this.$http.delete(c).then((function(t){t.data.success?(alert(t.data.message),e.inTheCart()):alert(t.data.message)})).catch((function(t){alert(t.data.message)}))},removeCartAll:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/carts");this.$http.delete(e).then((function(e){e.data.success?(alert(e.data.message),t.inTheCart()):alert(e.data.message)}))},onSendOrder:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/order");this.cart.carts.length&&this.$http.post(e,{data:this.form}).then((function(e){e.data.success?(t.order=Object(nc["a"])({},e.data),t.onPayOrder()):alert("建立訂單")})).catch((function(t){alert(t.response.data.message)}))},onPayOrder:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jemmanine","/pay/").concat(this.order.orderId);this.$http.post(e).then((function(e){e.data.success?(t.stepStatus.checkOrder=!1,t.stepStatus.orderReceived=!0,t.emitter.emit("get-cart")):alert("付款")})).catch((function(t){alert(t.response.data.message)}))},onSubmit:function(){this.stepStatus.checkCart?(this.stepStatus.checkCart=!1,this.stepStatus.createOrder=!0):this.stepStatus.createOrder&&(this.stepStatus.createOrder=!1,this.stepStatus.checkOrder=!0)},onPreStep:function(){this.stepStatus.createOrder?this.stepStatus.checkCart=!0:this.stepStatus.checkOrder&&(this.stepStatus.createOrder=!0)},onDiscount:function(){this.getDisCount(this.discountCode)},viewProduct:function(t){this.$router.push("/product/".concat(t))}},mounted:function(){this.inTheCart()}}),ic=c("d959"),oc=c.n(ic);const bc=oc()(rc,[["render",lc]]);e["default"]=bc},5530:function(t,e,c){"use strict";c.d(e,"a",(function(){return l}));c("b64b"),c("a4d3"),c("4de4"),c("d3b7"),c("e439"),c("159b"),c("dbb4");var a=c("ade3");function s(t,e){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),c.push.apply(c,a)}return c}function l(t){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{};e%2?s(Object(c),!0).forEach((function(e){Object(a["a"])(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):s(Object(c)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}},dbb4:function(t,e,c){var a=c("23e7"),s=c("83ab"),l=c("56ef"),n=c("fc6a"),r=c("06cf"),i=c("8418");a({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){var e,c,a=n(t),s=r.f,o=l(a),b={},d=0;while(o.length>d)c=s(a,e=o[d++]),void 0!==c&&i(b,e,c);return b}})},e439:function(t,e,c){var a=c("23e7"),s=c("d039"),l=c("fc6a"),n=c("06cf").f,r=c("83ab"),i=s((function(){n(1)})),o=!r||i;a({target:"Object",stat:!0,forced:o,sham:!r},{getOwnPropertyDescriptor:function(t,e){return n(l(t),e)}})}}]);
//# sourceMappingURL=chunk-6c3cf386.05083f58.js.map