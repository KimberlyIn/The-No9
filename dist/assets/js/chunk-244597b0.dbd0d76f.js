(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-244597b0"],{"41cf":function(t,e,s){t.exports=s.p+"assets/img/logo.eb050ee8.gif"},a55b:function(t,e,s){"use strict";s.r(e);var n=s("7a23"),a=s("41cf"),c=s.n(a),o={class:"container vh-100"},i=Object(n["h"])("img",{src:c.a,alt:"TheNo9-LOGO",style:{width:"160px"},class:"me-3"},null,-1),r={class:"col-md-5"},l=Object(n["h"])("div",{class:"h3 mb-4 text-center"},"請先登入",-1),u={class:"mb-3"},h=Object(n["h"])("label",{for:"floatingInputInvalid"},"Email address",-1),d={class:"mb-4"},p=Object(n["h"])("label",{for:"floatingInputInvalid2"},"Password",-1),b=Object(n["h"])("div",{class:"text-center"},[Object(n["h"])("button",{type:"submit",class:"w-50 btn btn-secondary"},"登入")],-1),f={class:"d-flex justify-content-center w-100"};function m(t,e,s,a,c,m){var j=Object(n["J"])("ToastMessages"),g=Object(n["J"])("router-link"),O=Object(n["J"])("Alert");return Object(n["B"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("div",null,[Object(n["k"])(j),Object(n["h"])("div",o,[Object(n["k"])(g,{class:"navbar-brand text-secondary",to:"/"},{default:Object(n["V"])((function(){return[i]})),_:1}),Object(n["h"])("form",{class:"form-floating row h-100 align-items-center justify-content-center",onSubmit:e[2]||(e[2]=Object(n["X"])((function(){return m.login&&m.login.apply(m,arguments)}),["prevent"]))},[Object(n["h"])("div",r,[l,Object(n["h"])("div",u,[h,Object(n["W"])(Object(n["h"])("input",{type:"email",class:"form-control",id:"floatingInputInvalid",placeholder:"name@example.com","onUpdate:modelValue":e[0]||(e[0]=function(t){return c.user.username=t}),required:"",autofocus:""},null,512),[[n["Q"],c.user.username]])]),Object(n["h"])("div",d,[p,Object(n["W"])(Object(n["h"])("input",{type:"password",class:"form-control",id:"floatingInputInvalid2",placeholder:"請輸入密碼","onUpdate:modelValue":e[1]||(e[1]=function(t){return c.user.password=t}),required:""},null,512),[[n["Q"],c.user.password]])]),b])],32)])]),Object(n["h"])("div",f,[c.isShowAlert?(Object(n["B"])(),Object(n["e"])(O,{key:0,customClass:c.alertClass,content:c.alertMsg},null,8,["customClass","content"])):Object(n["f"])("",!0)])],64)}s("99af"),s("ac1f"),s("5319");var j=s("37ca"),g=s("f367"),O={data:function(){return{isLoading:!1,isShowAlert:!1,alertMsg:"",alertClass:"alert-success",user:{},tips:{data:{success:!1,message:"登入失敗，請重新登入。"}}}},components:{ToastMessages:g["a"]},provide:function(){return{emitter:j["a"]}},inject:["$httpMessageState"],methods:{login:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/admin/signin");this.isLoading=!0,this.$http.post(e,this.user).then((function(e){var s=e.data,n=s.token,a=s.expired;document.cookie="hexToken=".concat(n,";expires=").concat(new Date(a),";"),t.isLoading=!1,t.$router.push("/admin")})).catch((function(){t.isLoading=!1,t.$httpMessageState(t.tips,"登入")}))},checkLogin:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/user/check");this.$http.post(e).then((function(e){e.data.success&&(t.isShowAlert=!0,t.alertClass="alert-warning",t.alertMsg="你已登入! 即將轉頁至後台",setTimeout((function(){t.$router.push("/admin")}),1500))})).catch((function(){t.$httpMessageState(t.tips,"登入")}))}},created:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,this.checkLogin()}},v=s("d959"),w=s.n(v);const k=w()(O,[["render",m]]);e["default"]=k}}]);
//# sourceMappingURL=chunk-244597b0.dbd0d76f.js.map