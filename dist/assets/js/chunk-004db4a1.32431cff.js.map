{"version":3,"sources":["webpack:///./src/components/Backend/Pagination.vue","webpack:///./src/components/Backend/Pagination.vue?55d0","webpack:///./src/views/Backend/Orders.vue","webpack:///./src/components/Backend/OrderModal.vue","webpack:///./src/components/Backend/OrderModal.vue?fd77","webpack:///./src/views/Backend/Orders.vue?c212","webpack:///./src/components/Backend/DeleteProduct.vue","webpack:///./src/components/Backend/DeleteProduct.vue?5818"],"names":["class","aria-label","aria-hidden","pages","has_pre","href","updatePage","current_page","total_pages","page","key","has_next","props","methods","this","$emit","__exports__","render","active","isLoading","z-index","orders","item","$filters","date","create_at","user","email","products","product","i","title","qty","unit","total","type","id","is_paid","updateOrder","checked","for","openModal","delOrderModal","order","tempOrder","ref","delOrder","pagination","getOrders","aria-labelledby","tabindex","data-bs-dismiss","name","tel","address","value","Object","default","data","modal","isPaid","emits","mixins","modalMixin","inject","watch","isNew","currentPage","components","Pagination","OrderModal","DeleteProduct","api","$http","get","tempProduct","then","response","catch","error","$httpMessageState","orderComponent","$refs","orderModal","delComponent","deleteProduct","paid","put","hideModal","delete","created"],"mappings":"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","file":"assets/js/chunk-004db4a1.32431cff.js","sourcesContent":["<template>\n  <div class=\"d-flex justify-content-center\">\n    <nav aria-label=\"Page navigation example\">\n      <ul class=\"pagination\" >\n        <!-- :class=\"{ 'disabled':!pages.has_prc } 這個時候的資料已經在 pages 裡面 -->\n        <!-- 發現必須先寫 :class=\"{ disabled: !pages.has_pre }\" 再寫 class=\"page-item\" Previous 才有反應 -->\n        <li :class=\"{ disabled: !pages.has_pre }\" class=\"page-item\">\n          <a \n            class=\"page-link\" \n            href=\"#\" \n            aria-label=\"Previous\"\n            @click.prevent=\"updatePage(pages.current_page - 1)\"\n          >\n            <span aria-hidden=\"true\">&laquo;</span>\n          </a>\n        </li>\n        <li \n          class=\"page-item\"\n          v-for=\"page in pages.total_pages\"\n          :key=\"page\"\n          :class=\"{ active: page === pages.current_page }\"\n        >\n          <span class=\"page-link\" v-if=\"page === pages.current_page\">\n            {{ page }}\n          </span>\n          <a\n            class=\"page-link\"\n            v-else\n            href=\"#\"\n            @click.prevent=\"updatePage(page)\"\n            >{{ page }}\n          </a>\n        </li>\n        <li \n          class=\"page-item\"\n          :class=\"{ disabled: !pages.has_next }\"\n        >\n          <a\n            class=\"page-link\"\n            href=\"#\"\n            aria-label=\"Next\"\n            @click.prevent=\"updatePage(pages.current_page + 1)\"\n          >\n            <span aria-hidden=\"true\">&raquo;</span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n</template>\n\n<script>\nexport default {\n  // Products.vue 的 pagination 傳送進來\n  props:['pages'],\n  methods: {\n    updatePage(page) {\n      // emit 觸發 Products.vue 的 getProducts\n      // 並且代入 getProducts 的參數 page\n      this.$emit('emitPages', page);\n    },    \n  },\n}\n</script>","import { render } from \"./Pagination.vue?vue&type=template&id=4c78c12a\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\html\\\\六角學院\\\\vue3\\\\vue-cli\\\\the-no9\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"div-backend-top\">\n    <Loading :active=\"isLoading\" :z-index=\"1060\"></Loading>\n    <table class=\"table mt-4\">\n        <thead>\n          <tr>\n            <th>購買時間</th>\n            <th>Email</th>\n            <th>購買款項</th>\n            <th>應付金額</th>\n            <th>是否付款</th>\n            <th>編輯</th>\n          </tr>\n        </thead>\n        <tbody>\n          <template v-for=\"(item, key) in orders\" :key=\"key\">\n            <tr>\n              <td>{{ $filters.date(item.create_at) }}</td>\n              <td>\n                <span v-text=\"item.user.email\" v-if=\"item.user\"></span>\n              </td>\n              <td>\n                <ul class=\"list-unstyled\">\n                  <!-- v-for=\"(product, i) in item.products\" (product, i) product 可以自行定義， i 為索引值\n                  item.products 用網頁看 vue 項目會看到，項目底下有一個 products\n                  products 裡面還有一個 product\n                  因此 {{ product.product.title }} 則是 {{ 自定義的 product.項目裡的 product.product 裡的 title }} -->\n                  <li v-for=\"(product, i) in item.products\" :key=\"i\">\n                    <p>{{ product.product.title }} 　　數量：{{ product.qty }} {{ product.product.unit }}</p>\n                    <!-- {{ product.qty }} 用網頁看 vue 可以看到 qty 和 product 同層，因此這邊是 {{ 自定義 product.products 的 qty }} -->\n                  </li>\n                </ul>\n              </td>\n              <td>{{ item.total }}</td>\n              <td>\n                <div class=\"form-check form-switch\">\n                  <!-- :id=\"`paidCheck${item.id}`\" paidCheck為自定義 -->\n                  <input \n                    class=\"form-check-input\" \n                    type=\"checkbox\" \n                    id=\"flexSwitchCheckChecked\" \n                    :id=\"`paidCheck${item.id}`\"\n                    v-model=\"item.is_paid\"\n                    @change=\"updateOrder(item)\"\n                    checked >\n                  <label class=\"form-check-label\" for=\"flexSwitchCheckChecked\" :for=\"`paidCheck${item.id}`\">\n                    <span v-if=\"item.is_paid\">已付款</span>\n                    <span v-else>未付款</span>  \n                  </label>\n                </div>\n                \n              </td>\n              <td>\n                <button \n                  type=\"button\" \n                  class=\"btn btn-sm btn-outline-secondary border-end-0 rounded-0\"\n                  @click=\"openModal(item)\"\n                >\n                  檢視\n                </button>\n                <button \n                  type=\"button\" \n                  class=\"btn btn-sm btn-outline-danger rounded-0\"\n                  @click=\"delOrderModal(item)\"\n                >\n                  刪除\n                </button>\n              </td>\n            </tr>\n          </template>         \n        </tbody>\n      </table>\n      <OrderModal :order=\"tempOrder\" @update-order=\"updateOrder\" ref=\"orderModal\"></OrderModal>\n      <DeleteProduct :item=\"tempOrder\" @del-product=\"delOrder\" ref=\"deleteProduct\"></DeleteProduct>\n      <Pagination :pages=\"pagination\" @emitPages=\"getOrders\"></Pagination>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Backend/Pagination.vue';\nimport OrderModal from '@/components/Backend/OrderModal.vue';\nimport DeleteProduct from '@/components/Backend/DeleteProduct.vue';\n\nexport default {\n  data() {\n    return {\n      orders: {},\n      isNew: false,\n      isLoading: false,\n      pagination: {},\n      tempOrder: {},\n      currentPage: 1,\n    };\n  },\n  components: {\n    Pagination,\n    OrderModal,\n    DeleteProduct,\n  },\n  methods: {\n    getOrders(currentPage = 1) {\n      this.currentPage = currentPage;\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders?page=${currentPage}`;\n      this.isLoading = true;\n      this.$http.get(api, this.tempProduct)\n      .then((response) => {\n        this.orders = response.data.orders;\n        this.pagination = response.data.pagination;\n        this.isLoading = false;\n      })\n      .catch((error) => {\n        this.isLoading = false;\n        this.$httpMessageState(error.response, '錯誤訊息');\n      })\n    },\n    openModal(item) {\n      this.tempOrder = {...item};\n      this.isNew = false;\n      const orderComponent = this.$refs.orderModal;\n      orderComponent.openModal();\n    },\n    delOrderModal(item) {\n      this.tempOrder = {...item};\n      const delComponent = this.$refs.deleteProduct;\n      delComponent.openModal();\n    },\n    updateOrder(item) {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\n      this.isLoading = true;\n      const paid = {\n        is_paid: item.is_paid,\n      };\n      this.$http.put(api, { data: paid })\n      .then((response) => {\n        this.isLoading = false;\n        const orderComponent = this.$refs.orderModal;\n        orderComponent.hideModal();\n        this.getOrders(this.currentPage);\n        this.$httpMessageState(response, '更新付款狀態');\n      })\n      .catch((error) => {\n        this.isLoading = false;\n        this.$httpMessageState(error.response, '錯誤訊息');\n      })\n    },\n    delOrder() {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`;\n      this.isLoading = true;\n      this.$http.delete(api)\n      .then(() => {\n        const delComponent = this.$refs.deleteProduct;\n        delComponent.hideModal();\n        this.isLoading = false;\n        this.getOrders(this.currentPage);\n      })\n      .catch((error) => {\n        this.isLoading = false;\n        this.$httpMessageState(error.response, '錯誤訊息');\n      })\n    },\n  },\n  created() {\n    this.getOrders();\n  },\n}\n</script>","<template>\n  <div>\n    <div class=\"modal fade\" id=\"orderModal\" ref=\"modal\" aria-hidden=\"true\" aria-labelledby=\"exampleModalToggleLabel\" tabindex=\"-1\">\n      <div class=\"modal-dialog modal-dialog-centered modal-xl\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header bg-dark\">\n            <h5 class=\"modal-title text-light\" id=\"exampleModalToggleLabel\">訂單細節</h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"row\">\n              <div class=\"col-md-4\">\n                <h4>用戶資料</h4>\n                <table class=\"table\">\n                  <tbody v-if=\"tempOrder.user\">\n                    <tr>\n                      <th>姓名</th>\n                      <td>{{ tempOrder.user.name }}</td>\n                    </tr>\n                    <tr>\n                      <th>Email</th>\n                      <td>{{ tempOrder.user.email }}</td>\n                    </tr>\n                    <tr>\n                      <th>電話</th>\n                      <td>{{ tempOrder.user.tel }}</td>\n                    </tr>\n                    <tr>\n                      <th>地址</th>\n                      <td>{{ tempOrder.user.address }}</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              <div class=\"col-md-8\">\n                <h4>訂單細節</h4>\n                <!-- 訂單細節 -->\n                <table class=\"table\">\n                  <tbody>\n                    <tr>\n                      <th>訂單編號</th>\n                      <td>{{ tempOrder.id }}</td>\n                    </tr>\n                    <tr>\n                      <th>下單時間</th>\n                      <td>{{ $filters.date(tempOrder.create_at) }}</td>\n                    </tr>\n                    <tr>\n                      <th>付款時間</th>\n                      <td>\n                        <span v-if=\"tempOrder.is_paid\">{{ $filters.date(tempOrder.is_paid)}}</span>\n                        <span v-else>時間不正確</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <th>付款狀態</th>\n                      <td>\n                        <span class=\"text-success\" v-if=\"tempOrder.is_paid\">已付款</span>\n                        <span v-else class=\"text-secondary\">未付款</span>\n                      </td>\n                    </tr>\n                    <tr>\n                      <th>總金額</th>\n                      <td>{{ tempOrder.total }}</td>\n                    </tr>\n                  </tbody>\n                </table>\n                <!-- 選購商品 -->\n                <h4>選購商品</h4>\n                <table class=\"table\">\n                  <tbody>\n                    <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\n                      <th>{{ item.product.title }}</th>\n                      <td>{{ item.qty }} / {{ item.product.unit }}</td>\n                    </tr>\n                  </tbody>\n                </table>\n                <div class=\"d-flex justify-content-end\">\n                  <div class=\"form-check\">\n                    <input \n                      class=\"form-check-input\" \n                      type=\"checkbox\" \n                      value=\"\" \n                      id=\"flexCheckChecked\" \n                      v-model=\"tempOrder.is_paid\"\n                      checked\n                    >\n                    <label class=\"form-check-label\" for=\"flexCheckChecked\">\n                      <span v-if=\"tempOrder.is_paid\">已付款</span>\n                      <span v-else>未付款</span>\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-secondary\" \n              data-bs-dismiss=\"modal\" \n            >\n              取消\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-secondary\" \n              @click=\"$emit('update-order', tempOrder)\"\n            >\n              修改付款狀態\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    order: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      modal: '',\n      tempOrder: {},\n      isPaid: false,\n    };\n  },\n  emits: ['update-order'],\n  mixins: [modalMixin],\n  inject: ['emitter'],\n  watch: {\n    order() {\n      this.tempOrder = this.order;\n    },\n  },\n}\n</script>","import { render } from \"./OrderModal.vue?vue&type=template&id=3f4aa201\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\html\\\\六角學院\\\\vue3\\\\vue-cli\\\\the-no9\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Orders.vue?vue&type=template&id=1db36c35\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\html\\\\六角學院\\\\vue3\\\\vue-cli\\\\the-no9\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <div class=\"modal fade\" id=\"deleteProduct\" ref=\"modal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header bg-danger text-white\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">刪除商品 {{ item.title }}</h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            是否刪除\n            <span class=\"fw-bold text-danger\">{{ item.title }}</span> 商品(刪除後將無法恢復)\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\n            <button \n              type=\"button\" \n              class=\"btn btn-danger\"\n              @click=\"$emit('del-product')\"\n            >\n              確認刪除\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    item: {},\n  },\n  data() {\n    return {\n      modal: '',\n    };\n  },\n  emits: ['del-product'],\n  mixins: [modalMixin],\n}\n</script>","import { render } from \"./DeleteProduct.vue?vue&type=template&id=7cfda9a4\"\nimport script from \"./DeleteProduct.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteProduct.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\html\\\\六角學院\\\\vue3\\\\vue-cli\\\\the-no9\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}